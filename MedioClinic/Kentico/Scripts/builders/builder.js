(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,,,,,,,function(e,t,n){"use strict";var i,r,o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ADD_WIDGET_VARIANT="ADD_WIDGET_VARIANT",e.REMOVE_WIDGET_VARIANT="REMOVE_WIDGET_VARIANT",e.UPDATE_WIDGET_VARIANT="UPDATE_WIDGET_VARIANT",e.UPDATE_WIDGET_VARIANT_MARKUPS="UPDATE_WIDGET_VARIANT_MARKUPS",e.UPDATE_WIDGET_CONDITION_TYPE_PARAMETERS="UPDATE_WIDGET_CONDITION_TYPE_PARAMETERS",e.ADD_WIDGET="ADD_WIDGET",e.REMOVE_WIDGET="REMOVE_WIDGET",e.MOVE_WIDGET="MOVE_WIDGET",e.HIGHLIGHT_WIDGET="HIGHLIGHT_WIDGET",e.DEHIGHLIGHT_WIDGET="DEHIGHLIGHT_WIDGET",e.SELECT_WIDGET="SELECT_WIDGET",e.UNSELECT_WIDGET="UNSELECT_WIDGET",e.FREEZE_WIDGET_SELECTION="FREEZE_WIDGET_SELECTION",e.THAW_WIDGET_SELECTION="THAW_WIDGET_SELECTION",e.OPEN_POP_UP="OPEN_POP_UP",e.CLOSE_POP_UP="CLOSE_POP_UP",e.SET_POP_UP_POSITION="SET_POP_UP_POSITION",e.START_DRAGGING="START_DRAGGING",e.END_DRAGGING="END_DRAGGING",e.SHOW_DROP_MARKER="SHOW_DROP_MARKER",e.HIDE_DROP_MARKER="HIDE_DROP_MARKER",e.ADD_SECTION="ADD_SECTION",e.REMOVE_SECTION="REMOVE_SECTION",e.MOVE_SECTION="MOVE_SECTION",e.CHANGE_SECTION="CHANGES_SECTION",e.SHOW_SECTION_HEADER="SHOW_SECTION_HEADER",e.HIDE_SECTION_HEADER="HIDE_SECTION_HEADER",e.HIGHLIGHT_SECTION_BORDER="HIGHLIGHT_SECTION_BORDER",e.DEHIGHLIGHT_SECTION_BORDER="DEHIGHLIGHT_SECTION_BORDER",e.SELECT_WIDGET_VARIANT="SELECT_WIDGET_VARIANT",e.RESTORE_DISPLAYED_WIDGET_VARIANTS="RESTORE_DISPLAYED_WIDGET_VARIANTS",e.OTHER_ACTION="__any_other_action_type__"}(i||(t.TypeKeys=i={})),function(e){e.Center="center",e.Left="left",e.Right="right"}(r||(t.ComponentPosition=r={})),function(e){e.AddWidget="addWidget",e.AddSection="addSection",e.ChangeSection="changeSection",e.Personalization="personalization",e.PropertiesDialog="propertiesDialog"}(o||(t.PopupType=o={})),t.TypeKeys=i,t.ComponentPosition=r,t.PopupType=o},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initContainer=t.getLocalizationService=t.getService=void 0;var i=n(15),r=null;t.getService=function(e){return r.get(e)},t.getLocalizationService=function(){return r.get(i.SERVICE_TYPES.LocalizationService)},t.initContainer=function(e){r=e}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageTypes=t.SERVICE_TYPES=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(343));t.SERVICE_TYPES={LocalizationService:(0,i.default)("LocalizationService"),NormalizerService:(0,i.default)("NormalizerService"),PageConfigurationService:(0,i.default)("PageConfigurationService")};var r=t.MessageTypes=void 0;!function(e){e.SAVE_CONFIGURATION="Kentico.SaveConfiguration",e.LOAD_DISPLAYED_WIDGET_VARIANTS="Kentico.LoadDisplayedWidgetVariants",e.GET_DISPLAYED_WIDGET_VARIANTS="Kentico.GetDisplayedWidgetVariants",e.CONFIGURATION_STORED="Kentico.ConfigurationStored",e.CONFIGURATION_CHANGED="Kentico.ConfigurationChanged",e.MESSAGING_ERROR="Kentico.Messaging.Error",e.MESSAGING_EXCEPTION="Kentico.Messaging.Exception",e.MESSAGING_WARNING="Kentico.Messaging.Warning",e.MESSAGING_DRAG_START="Kentico.Messaging.DragStart",e.MESSAGING_DRAG_STOP="Kentico.Messaging.DragStop",e.OPEN_MODAL_DIALOG="Kentico.OpenModalDialog",e.CLOSE_MODAL_DIALOG="Kentico.CloseModalDialog"}(r||(t.MessageTypes=r={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(13)),r=n(48),o=n(420);var a=i.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u=function(){return{}},s=function(){return{}};t.connect=function(e,t){return void 0===e&&(e=u),void 0===t&&(t=s),function(n){return{name:"connected-"+n.name,inject:["store"],data:function(){return{state:null}},props:a({},(0,o.normalizeProps)(n.options.props)),render:function(e){return e(n,{on:this._events,props:a({},this.$props,this.stateToProps,this.dispatchToProps),scopedSlots:this.$scopedSlots},(0,o.normalizeSlots)(this.$slots))},computed:{stateToProps:function(){return e(this.state,this.$options.propsData)},dispatchToProps:function(){return a({},(0,r.bindActionCreators)(t(),this.store.dispatch))}},methods:{updateState:function(){this.state=this.store.getState()}},created:function(){var t=this;this.$createElement=this.$parent.$createElement,this.unsubscribe=function(n,i){var r=e(n.getState(),t.$options.propsData||{});return n.subscribe(function(){var a=e(n.getState(),t.$options.propsData);(0,o.shallowEqual)(r,a)||(r=a,i())})}(this.store,this.updateState),this.updateState()},destroyed:function(){this.unsubscribe&&this.unsubscribe()}}}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventHelper=t.arrayHelper=t.stringHelper=t.objectHelper=void 0;var i=u(n(251)),r=u(n(31)),o=u(n(8)),a=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n="function"==typeof a.default&&e[o.default];if(!n)return e;var i,r,u=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=u.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return s},d=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},c={isEmpty:function(e){return e.constructor===Object&&0===(0,r.default)(e).length}},l={format:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=e;return t.forEach(function(e,t){i=i.replace(new RegExp("\\{"+t+"\\}","g"),e)}),i}},f={insertItemIntoArray:function(e,t,n){return n>e.length||n<0?e:d(e.slice(0,n),[t],e.slice(n))},moveItemBetweenArrays:function(e,t,n,i){void 0===i&&(i=null);var r=null===i?e.length-1:i.length;if(n<0||n>r)throw new RangeError("The [position] argument is invalid.");if(!f.contains(e,t))throw new Error("The [item] was not found in [sourceArray].");var o=e.filter(function(e){return e!==t});return null===i?{sourceArray:f.insertItemIntoArray(o,t,n),destinationArray:null}:{sourceArray:o,destinationArray:f.insertItemIntoArray(i,t,n)}},getUniqueValues:function(e,t){return void 0===t&&(t=function(e){return e}),d(new i.default(e.map(t)))},contains:function(e,t){return e.indexOf(t)>=0},move:function(e,t,n){return e.splice(n,0,e.splice(t,1)[0]),e}},p={dispatchEvent:function(e,t){var n=new CustomEvent(e,{detail:t});document.dispatchEvent(n)}};t.objectHelper=c,t.stringHelper=l,t.arrayHelper=f,t.eventHelper=p},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.builderConfig=t.initHttpClient=t.http=void 0;var i,r,o=function(e){return e&&e.__esModule?e:{default:e}}(n(323));t.http=i,t.initHttpClient=function(e){t.http=i=o.default.create({}),t.builderConfig=r=e},t.builderConfig=r},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0;var i=n(12),r=n(39),o=n(15);t.logger={logError:function(e){(0,r.postMessage)(o.MessageTypes.MESSAGING_ERROR,e,"*")},logException:function(e){console.error(e),(0,r.postMessage)(o.MessageTypes.MESSAGING_EXCEPTION,(0,i.getService)(o.SERVICE_TYPES.LocalizationService).getLocalization("errors.generalerror"),"*")},logExceptionWithMessage:function(e,t){console.error(e),(0,r.postMessage)(o.MessageTypes.MESSAGING_EXCEPTION,t,"*")},logWarning:function(e){(0,r.postMessage)(o.MessageTypes.MESSAGING_WARNING,e,"*")}}},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.postMessage=function(e,t,n){window.parent.postMessage({msg:e,data:t},n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeWidgetVariant=t.thawWidgetSelection=t.freezeWidgetSelection=t.selectWidgetVariant=t.unselectWidget=t.selectWidget=t.highlightWidget=t.dehighlightWidget=t.dehighlightSectionBorder=t.highlightSectionBorder=t.showSectionHeader=t.hideSectionHeader=t.hideDropMarker=t.showDropMarker=t.endDragging=t.startDragging=t.setPopupPosition=t.closePopup=t.openPopup=void 0;var i=n(254),r=n(87),o=n(192),a=n(369),u=n(370),s=n(73),d=n(254),c=n(74);t.openPopup=s.openPopup,t.closePopup=s.closePopup,t.setPopupPosition=s.setPopupPosition,t.startDragging=o.startDragging,t.endDragging=o.endDragging,t.showDropMarker=o.showDropMarker,t.hideDropMarker=o.hideDropMarker,t.hideSectionHeader=a.hideSectionHeader,t.showSectionHeader=a.showSectionHeader,t.highlightSectionBorder=a.highlightSectionBorder,t.dehighlightSectionBorder=a.dehighlightSectionBorder,t.dehighlightWidget=u.dehighlightWidget,t.highlightWidget=u.highlightWidget,t.selectWidget=d.selectWidget,t.unselectWidget=d.unselectWidget,t.selectWidgetVariant=r.selectWidgetVariant,t.freezeWidgetSelection=i.freezeWidgetSelection,t.thawWidgetSelection=i.thawWidgetSelection,t.removeWidgetVariant=c.removeWidgetVariant},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveState=t.getState=t.getComponentMarkup=t.getComponentMetadata=t.getWidgetMarkup=t.getWidgetDefaultProperties=void 0;var i=c(n(8)),r=c(n(6)),o=c(n(11)),a=n(27),u=n(12),s=n(15),d=n(372);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,n,i){return new(n||(n=o.default))(function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function u(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,u)}s((i=i.apply(e,t||[])).next())})},f=function(e,t){var n,o,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:d(0),throw:d(1),return:d(2)},"function"==typeof r.default&&(u[i.default]=function(){return this}),u;function d(i){return function(r){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}};t.getWidgetDefaultProperties=function(e){return l(void 0,void 0,void 0,function(){return f(this,function(t){switch(t.label){case 0:return[4,a.http.get(e)];case 1:return[2,t.sent().data]}})})},t.getWidgetMarkup=function(e,t){return l(void 0,void 0,void 0,function(){var n;return f(this,function(i){switch(i.label){case 0:return n=a.builderConfig.getComponentMarkupData(t),[4,a.http.post(e,n)];case 1:return[2,i.sent().data]}})})},t.getComponentMetadata=function(){return l(void 0,void 0,void 0,function(){var e;return f(this,function(t){switch(t.label){case 0:return[4,d.metadata.get()];case 1:return e=t.sent(),[2,(0,u.getService)(s.SERVICE_TYPES.NormalizerService).normalizeMetadata(e.data)]}})})},t.getComponentMarkup=function(e){return l(void 0,void 0,void 0,function(){return f(this,function(t){switch(t.label){case 0:return[4,a.http.post(e)];case 1:return[2,t.sent().data]}})})},t.getState=function(){return l(void 0,void 0,void 0,function(){var e;return f(this,function(t){switch(t.label){case 0:return[4,d.configuration.load()];case 1:return e=t.sent(),[2,(0,u.getService)(s.SERVICE_TYPES.NormalizerService).normalizeConfiguration(e.data)]}})})},t.saveState=function(e,t){return l(void 0,void 0,void 0,function(){var n;return f(this,function(i){return n=(0,u.getService)(s.SERVICE_TYPES.NormalizerService).denormalizeConfiguration(e),[2,d.configuration.save(n,t)]})})}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.EntityType=void 0;!function(e){e.Section="SECTION",e.Widget="WIDGET"}(i||(t.EntityType=i={}))},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SECTION_REMOVE_EVENT="kenticoSectionRemove",t.SECTION_MOUNTED_EVENT="kenticoSectionMounted",t.POP_UP_CONTAINER_WIDTH=300,t.SECTION_DIVIDER_ADD_BUTTON_OFFSET=40,t.HIDE_ELEMENT_TIMEOUT=250},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPosition=void 0;var i=n(54),r=n(7),o=function(e,t){var n=(e.shadowRoot?e.shadowRoot:e).querySelector("kentico-pop-up-container");return n?n.offsetWidth/2:t},a=function(e){return{left:e.left,right:window.innerWidth-e.right}};t.getPosition=function(e,t){void 0===t&&(t=i.POP_UP_CONTAINER_WIDTH/2);var n=a(e.getBoundingClientRect()),u=o(e,t);return n.left<u?r.ComponentPosition.Right:n.right<u?r.ComponentPosition.Left:r.ComponentPosition.Center}},,,,function(e,t,n){"use strict"},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAreaBanned=t.isWidgetAllowed=t.filterWidgets=void 0;var i=n(19),r=function(e,t){return!e||0===e.length||i.arrayHelper.contains(e,t)};t.filterWidgets=function(e,t){return e&&0===e.length?t:t.filter(function(t){return r(e,t.typeIdentifier)})},t.isWidgetAllowed=r,t.isAreaBanned=function(e,t){return e&&i.arrayHelper.contains(e,t)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invokeInlineEditorsDestroy=t.invokeInlineEditorsDrop=t.invokeInlineEditorsDragStart=t.initializeInlineEditors=t.registerInlineEditor=void 0;var i=d(n(1)),r=d(n(8)),o=d(n(6)),a=n(12),u=n(32),s=n(15);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t="function"==typeof o.default&&e[r.default],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},l={},f=function(e,t){var n=(0,a.getService)(s.SERVICE_TYPES.LocalizationService);if("string"!=typeof e){var r=n.getLocalization("inlineeditors.initinvalidname");throw new Error(r)}if("object"!==(void 0===t?"undefined":(0,i.default)(t))){r=n.getLocalization("inlineeditors.wrongtype",e);throw new Error(r)}if(!t.hasOwnProperty("init")){r=n.getLocalization("inlineeditors.initmissing",e);throw new Error(r)}if("function"!=typeof t.init){r=n.getLocalization("inlineeditors.initwrongtype",e);throw new Error(r)}if(l[e]){r=n.getLocalization("inlineeditors.duplicateregistration",e);throw new Error(r)}},p=function(e,t){var n,i,r=e.querySelectorAll("[data-inline-editor]");try{for(var o=c(r),a=o.next();!a.done;a=o.next()){var u=a.value,s=u.dataset.inlineEditor,d=l[s];if(d.hasOwnProperty(t)){var f=d[t],p={editor:u};f.call(f,p)}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}};t.registerInlineEditor=function(e,t){try{f(e,t)}catch(e){return void u.logger.logError(e.message)}l[e]=t},t.initializeInlineEditors=function(e,t){var n,i,r=e.querySelectorAll("[data-inline-editor]"),o=(0,a.getService)(s.SERVICE_TYPES.LocalizationService),d={cultureCode:o.getCultureCode(),getString:o.getLocalizationWithoutPrefix};try{for(var f=c(r),p=f.next();!p.done;p=f.next()){var g=p.value,y=g.dataset.inlineEditor,v=l[y];if(v){var h=g.dataset.propertyName;if(h&&h.length){var _={editor:g,propertyName:h,localizationService:d,propertyValue:t[h]};try{v.init(_)}catch(e){u.logger.logException(e)}}else m=o.getLocalization("inlineeditors.missingpropertyname",y),u.logger.logError(m)}else{var m=o.getLocalization("inlineeditors.notregistered",y);u.logger.logError(m)}}}catch(e){n={error:e}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}},t.invokeInlineEditorsDragStart=function(e){p(e,"dragStart")},t.invokeInlineEditorsDrop=function(e){p(e,"drop")},t.invokeInlineEditorsDestroy=function(e){p(e,"destroy")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPopupPosition=t.closePopup=t.openPopup=void 0;var i=n(7);t.openPopup=function(e,t,n){return{type:i.TypeKeys.OPEN_POP_UP,componentIdentifier:e,position:t,popupType:n}},t.closePopup=function(){return{type:i.TypeKeys.CLOSE_POP_UP}},t.setPopupPosition=function(e){return{type:i.TypeKeys.SET_POP_UP_POSITION,position:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateWidgetConditionTypeParameters=t.updateWidgetVariant=t.removeWidgetVariant=t.addWidgetVariant=void 0;var i=n(7);t.addWidgetVariant=function(e,t,n,r){return{type:i.TypeKeys.ADD_WIDGET_VARIANT,variant:e,widgetIdentifier:t,markup:n,conditionType:r}},t.removeWidgetVariant=function(e,t){return{type:i.TypeKeys.REMOVE_WIDGET_VARIANT,widgetIdentifier:e,variantIdentifier:t}},t.updateWidgetVariant=function(e,t,n){return{type:i.TypeKeys.UPDATE_WIDGET_VARIANT,variantIdentifier:e,properties:t,markup:n}},t.updateWidgetConditionTypeParameters=function(e,t,n){return{type:i.TypeKeys.UPDATE_WIDGET_CONDITION_TYPE_PARAMETERS,variantIdentifier:e,name:t,conditionTypeParameters:n}}},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWidgetsInZones=t.mapZoneWidgets=void 0;var i=s(n(8)),r=s(n(6)),o=s(n(71)),a=n(12),u=n(15);function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){var n="function"==typeof r.default&&e[i.default];if(!n)return e;var o,a,u=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=u.next()).done;)s.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=u.return)&&n.call(u)}finally{if(a)throw a.error}}return s},c=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e},l=function(e,t){return(0,o.default)(e,function(e){return t[e].widgets})};t.mapZoneWidgets=function(e,t,n){if(!e)return null;if(!t)return n;var i=Math.min(e.length,t.length);if(0===t.length)throw new Error((0,a.getService)(u.SERVICE_TYPES.LocalizationService).getLocalization("changesection.invalidsectionstate"));var r=e.slice(0,i).reduce(function(e,i,r){var o=n[i].widgets,a=t[r];return e[a]={identifier:a,widgets:c(o)},e},{});t.slice(i).forEach(function(e){r[e]={identifier:e,widgets:[]}});var o=e.slice(i),s=l(o,n),f=d(t.slice(-1),1)[0];return Array.prototype.push.apply(r[f].widgets,s),r},t.getWidgetsInZones=l},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restoreDisplayedWidgetVariants=t.selectWidgetVariant=void 0;var i=n(7);t.selectWidgetVariant=function(e,t){return{type:i.TypeKeys.SELECT_WIDGET_VARIANT,variantIdentifier:e,widgetIdentifier:t}},t.restoreDisplayedWidgetVariants=function(e){return{type:i.TypeKeys.RESTORE_DISPLAYED_WIDGET_VARIANTS,savedWidgetVariants:e}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.widgetThunksFactory=t.setWidgetProperty=void 0;var i=f(n(8)),r=f(n(6)),o=f(n(11)),a=f(n(13)),u=n(59),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(41)),d=n(195),c=n(74),l=n(265);function f(e){return e&&e.__esModule?e:{default:e}}var p=a.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},g=function(e,t,n,i){return new(n||(n=o.default))(function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function u(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,u)}s((i=i.apply(e,t||[])).next())})},y=function(e,t){var n,o,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:d(0),throw:d(1),return:d(2)},"function"==typeof r.default&&(u[i.default]=function(){return this}),u;function d(i){return function(r){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}};t.setWidgetProperty=function(e,t){return function(n,i,r){var o=r.logger;return g(void 0,void 0,void 0,function(){var r,a,u,d,l,f,g,v,h,_,m,E,T;return y(this,function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),a=i(),u=a.displayedWidgetVariants,d=a.widgets,l=a.widgetVariants,f=a.metadata,g=d[e],v=f.widgets[g.type],h=u[e],_=p({},l[h].properties,((r={})[t.name]=t.value,r)),!1===t.refreshMarkup?[3,2]:[4,s.getWidgetMarkup(v.markupUrl,_)];case 1:return E=y.sent(),[3,3];case 2:E=void 0,y.label=3;case 3:return m=E,n((0,c.updateWidgetVariant)(h,_,m)),[3,5];case 4:return T=y.sent(),o.logException(T),[3,5];case 5:return[2]}})})}},t.widgetThunksFactory=function(e,t,n){return{addWidget:function(n,i,r){return g(void 0,void 0,void 0,function(){var o,a,d,c,f;return y(this,function(p){switch(p.label){case 0:return!0!==(a=t().metadata.widgets[n]).hasProperties?[3,2]:[4,s.getWidgetDefaultProperties(a.defaultPropertiesUrl)];case 1:o=p.sent(),p.label=2;case 2:return[4,s.getWidgetMarkup(a.markupUrl,o)];case 3:return d=p.sent(),c={identifier:(0,u.v4)(),properties:o},f={identifier:(0,u.v4)(),type:n,variants:[c.identifier]},e((0,l.addWidget)(f,i,r,c,d)),[2]}})})},removeWidget:function(n,i){return g(void 0,void 0,void 0,function(){var r;return y(this,function(o){return r=t().widgets[n],e((0,l.removeWidget)(r,i)),[2]})})},moveWidget:function(n,i,r,o){return g(void 0,void 0,void 0,function(){var a,u,c,f,p,g,v,h,_,m,E,T,b;return y(this,function(y){switch(y.label){case 0:return u=t(),c=u.displayedWidgetVariants,f=u.widgets,p=u.widgetVariants,g=u.markups,v=u.metadata,h=f[n],_=c[n],m=g.variants[_],E=v.widgets[h.type],m.isDirty?(T=p[_].properties,[4,s.getWidgetMarkup(E.markupUrl,T)]):[3,2];case 1:b=y.sent(),e((0,d.updateWidgetVariantMarkups)(((a={})[_]=b,a))),y.label=2;case 2:return e((0,l.moveWidget)(n,i,r,o)),[2]}})})},setWidgetProperties:function(n,i,r){return g(void 0,void 0,void 0,function(){var o,a,u,d,l,f,p,g,v;return y(this,function(y){switch(y.label){case 0:return o=t(),a=o.displayedWidgetVariants,u=o.widgets,d=o.metadata,l=u[n],f=d.widgets[l.type],p=a[n],r?[4,s.getWidgetMarkup(f.markupUrl,i)]:[3,2];case 1:return v=y.sent(),[3,3];case 2:v=void 0,y.label=3;case 3:return g=v,e((0,c.updateWidgetVariant)(p,i,g)),[2]}})})}}}},,function(e,t,n){"use strict";n.r(t);var i=n(212),r=n(100);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);n(421);var a=n(0),u=Object(a.a)(r.default,i.a,i.b,!1,null,"8be9953e",null);t.default=u.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPopupElements=function(e){return e.map(function(e){var t=e.typeIdentifier,n=e.iconClass,i=e.name;return{description:e.description,iconClass:n,name:i,key:t}})}},,,,,,function(e,t,n){"use strict";n.r(t);var i=n(99),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=E(n(8)),r=E(n(6)),o=E(n(11)),a=E(n(10)),u=E(n(4)),s=E(n(1)),d=E(n(5)),c=E(n(2)),l=E(n(3)),f=n(9),p=n(54),g=n(12),y=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(60)),n(47)),v=n(19),h=n(70),_=E(n(91)),m=E(n(423));function E(e){return e&&e.__esModule?e:{default:e}}var T=function(){var e=l.default||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?(0,c.default)(n):(i.prototype=n.prototype,new i)}}(),b=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=(0,d.default)(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,s.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&(0,u.default)(t,n,a),a},I=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,s.default)(Reflect))&&"function"==typeof a.default)return(0,a.default)(e,t)},S=function(e,t,n,i){return new(n||(n=o.default))(function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function u(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,u)}s((i=i.apply(e,t||[])).next())})},w=function(e,t){var n,o,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:d(0),throw:d(1),return:d(2)},"function"==typeof r.default&&(u[i.default]=function(){return this}),u;function d(i){return function(r){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localizationService=(0,g.getLocalizationService)(),t}return T(t,e),Object.defineProperty(t.prototype,"editableAreaClasses",{get:function(){return{"ktc-editable-area":!0,"ktc-editable-area--banned":this.isBanned}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBanned",{get:function(){return(0,h.isAreaBanned)(this.dragAndDrop.bannedContainers,this.identifier)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAreaDropMarker",{get:function(){return this.dragAndDrop.entity===y.EntityType.Section&&this.dragAndDrop.targetContainerIdentifier===this.identifier&&0===this.dragAndDrop.dropMarkerPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bannedAreaMessage",{get:function(){return this.dragAndDrop.entity===y.EntityType.Widget?this.localizationService.getLocalization("areas.bannedwidgetmessage"):this.localizationService.getLocalization("areas.bannedsectionmessage")},enumerable:!0,configurable:!0}),t.prototype.onRemoveSection=function(e){var t=this.localizationService.getLocalization("section.remove.confirmation");confirm(t)&&(v.eventHelper.dispatchEvent(p.SECTION_REMOVE_EVENT,{sectionIdentifier:e}),this.removeSection(e,this.identifier)),1===this.sectionsInArea.length&&this.$nextTick(function(){v.eventHelper.dispatchEvent(p.SECTION_MOUNTED_EVENT,{sectionIdentifier:e})})},t.prototype.onAddSection=function(e,t){this.addSection(e,this.identifier,t)},t.prototype.onChangeSection=function(e,t){return S(this,void 0,void 0,function(){return w(this,function(n){switch(n.label){case 0:return v.eventHelper.dispatchEvent(p.SECTION_REMOVE_EVENT,{sectionIdentifier:t}),[4,this.changeSection(t,e.detail.key)];case 1:return n.sent(),this.$nextTick(function(){v.eventHelper.dispatchEvent(p.SECTION_MOUNTED_EVENT,{sectionIdentifier:t})}),[2]}})})},b([(0,f.Prop)({required:!0}),I("design:type",String)],t.prototype,"identifier",void 0),b([(0,f.Prop)(),I("design:type",Array)],t.prototype,"sectionsInArea",void 0),b([(0,f.Prop)(),I("design:type",Object)],t.prototype,"dragAndDrop",void 0),b([(0,f.Prop)(),I("design:type",Object)],t.prototype,"removeSection",void 0),b([(0,f.Prop)(),I("design:type",Object)],t.prototype,"addSection",void 0),b([(0,f.Prop)(),I("design:type",Object)],t.prototype,"changeSection",void 0),t=b([(0,f.Component)({components:{Section:m.default,BorderContainer:_.default}})],t)}(f.Vue);t.default=P},function(e,t,n){"use strict";n.r(t);var i=n(101),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(10)),r=c(n(4)),o=c(n(1)),a=c(n(5)),u=c(n(2)),s=c(n(3)),d=n(9);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){var e=s.default||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?(0,u.default)(n):(i.prototype=n.prototype,new i)}}(),f=function(e,t,n,i){var u,s=arguments.length,d=s<3?t:null===i?i=(0,a.default)(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(d=(s<3?u(d):s>3?u(t,n,d):u(t,n))||d);return s>3&&d&&(0,r.default)(t,n,d),d},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof i.default)return(0,i.default)(e,t)},g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),Object.defineProperty(t.prototype,"borderClasses",{get:function(){return{"ktc-border-root":!0,"ktc-border-root--primary":this.primary,"ktc-border-root--highlighted":this.highlighted,"ktc-border-root--selected":this.selected,"ktc-border-root--banned":this.banned}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showVerticalBorder",{get:function(){return!this.hideVerticalBorder||!this.highlighted||!this.selected},enumerable:!0,configurable:!0}),f([(0,d.Prop)({required:!1,default:!1}),p("design:type",Boolean)],t.prototype,"highlighted",void 0),f([(0,d.Prop)({required:!1,default:!1}),p("design:type",Boolean)],t.prototype,"selected",void 0),f([(0,d.Prop)({required:!1,default:!1}),p("design:type",Boolean)],t.prototype,"banned",void 0),f([(0,d.Prop)({required:!1}),p("design:type",String)],t.prototype,"bannedMessage",void 0),f([(0,d.Prop)({required:!1,default:!1}),p("design:type",Boolean)],t.prototype,"primary",void 0),f([(0,d.Prop)({required:!1,default:!1}),p("design:type",Boolean)],t.prototype,"hideVerticalBorder",void 0),t=f([d.Component],t)}(d.Vue);t.default=g},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(104),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=T(n(10)),r=T(n(4)),o=T(n(1)),a=T(n(5)),u=T(n(2)),s=T(n(3)),d=n(75),c=n(9),l=n(54),f=n(12),p=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(60)),n(47)),g=n(19),y=n(56),v=n(7),h=T(n(91)),_=T(n(196)),m=T(n(428)),E=T(n(430));function T(e){return e&&e.__esModule?e:{default:e}}var b=function(){var e=s.default||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?(0,u.default)(n):(i.prototype=n.prototype,new i)}}(),I=function(e,t,n,i){var u,s=arguments.length,d=s<3?t:null===i?i=(0,a.default)(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(d=(s<3?u(d):s>3?u(t,n,d):u(t,n))||d);return s>3&&d&&(0,r.default)(t,n,d),d},S=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof i.default)return(0,i.default)(e,t)},w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localizationService=(0,f.getLocalizationService)(),t.cancellableHideHeaderToken=null,t.highlightedBorder=!1,t}return b(t,e),Object.defineProperty(t.prototype,"showSectionTypeList",{get:function(){var e=this.popup,t=e.componentIdentifier,n=e.popupType;return t===this.sectionIdentifier&&n===v.PopupType.ChangeSection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderSectionHeader",{get:function(){return this.highlightedSection.sectionIdentifier===this.sectionIdentifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlightBorder",{get:function(){return this.renderSectionHeader&&this.highlightedSection.highlightBorder},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropZone",{get:function(){return this.dragAndDrop.entity===p.EntityType.Section&&this.dragAndDrop.itemIdentifier!==this.sectionIdentifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSectionDropMarker",{get:function(){return this.dragAndDrop.targetContainerIdentifier===this.areaIdentifier&&this.dragAndDrop.dropMarkerPosition===this.position+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSectionDivider",{get:function(){return!this.dragAndDrop.itemIdentifier},enumerable:!0,configurable:!0}),t.prototype.mounted=function(){g.eventHelper.dispatchEvent(l.SECTION_MOUNTED_EVENT,{sectionIdentifier:this.sectionIdentifier})},t.prototype.onSectionMouseEnter=function(){this.renderSectionHeader||this.popup.componentIdentifier||this.dragAndDrop.itemIdentifier||this.showSectionHeader(this.sectionIdentifier,this.computeHeaderPosition()),this.dragAndDrop.entity===p.EntityType.Section&&this.highlightSectionBorder(this.sectionIdentifier),this.cancellableHideHeaderToken&&clearTimeout(this.cancellableHideHeaderToken)},t.prototype.onSectionMouseLeave=function(){var e=this;this.showSectionTypeList||(this.cancellableHideHeaderToken=setTimeout(function(){e.renderSectionHeader&&e.hideSectionHeader()},l.HIDE_ELEMENT_TIMEOUT)),this.dragAndDrop.entity===p.EntityType.Section&&this.dehighlightSectionBorder()},t.prototype.onSectionClick=function(){this.renderSectionHeader||this.showSectionHeader(this.sectionIdentifier,this.computeHeaderPosition())},t.prototype.onHeaderMouseEnter=function(){this.highlightBorder||this.dragAndDrop.itemIdentifier||this.highlightSectionBorder()},t.prototype.onHeaderMouseLeave=function(){this.showSectionTypeList||this.dragAndDrop.itemIdentifier||this.dehighlightSectionBorder()},t.prototype.onHeaderClickAway=function(e){this.showSectionTypeList&&this.closePopup(),this.renderSectionHeader&&(this.isClickOutsideSection(e)?this.hideSectionHeader():this.highlightBorder&&this.dehighlightSectionBorder())},t.prototype.onCloseSectionTypeList=function(e){this.isClickOutsideSection(e.detail)?this.hideSectionHeader():this.dehighlightSectionBorder(),this.closePopup()},t.prototype.onSelectItem=function(e){this.$emit("addSection",e.detail.key,this.position+1),this.closePopup()},t.prototype.computeHeaderPosition=function(){var e=this.$refs.sectionHeader.$el.querySelector("kentico-section-header");return e?(0,y.getPosition)(e,e.offsetWidth)===v.ComponentPosition.Left?v.ComponentPosition.Left:v.ComponentPosition.Right:null},t.prototype.isClickOutsideSection=function(e){var t=e.clientX,n=e.clientY,i=this.$el.getBoundingClientRect(),r=i.left,o=i.right,a=i.top,u=i.bottom;return t<r||t>o||n<a||n>u},I([(0,c.Prop)({required:!0}),S("design:type",String)],t.prototype,"areaIdentifier",void 0),I([(0,c.Prop)({required:!0}),S("design:type",String)],t.prototype,"sectionIdentifier",void 0),I([(0,c.Prop)({required:!0}),S("design:type",Number)],t.prototype,"position",void 0),I([(0,c.Prop)(),S("design:type",String)],t.prototype,"sectionType",void 0),I([(0,c.Prop)(),S("design:type",Array)],t.prototype,"sectionTypes",void 0),I([(0,c.Prop)(),S("design:type",String)],t.prototype,"sectionMarkup",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"popup",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"highlightedSection",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"dragAndDrop",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"showSectionHeader",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"hideSectionHeader",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"highlightSectionBorder",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"dehighlightSectionBorder",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"closePopup",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"changeSection",void 0),t=I([(0,c.Component)({components:{SectionHeader:E.default,BorderContainer:h.default,SectionDivider:m.default,DropZone:_.default},mixins:[d.mixin]})],t)}(c.Vue);t.default=w},function(e,t,n){"use strict";n.r(t);var i=n(106),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(10)),r=c(n(4)),o=c(n(1)),a=c(n(5)),u=c(n(2)),s=c(n(3)),d=n(9);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(60));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){var e=s.default||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?(0,u.default)(n):(i.prototype=n.prototype,new i)}}(),f=function(e,t,n,i){var u,s=arguments.length,d=s<3?t:null===i?i=(0,a.default)(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(d=(s<3?u(d):s>3?u(t,n,d):u(t,n))||d);return s>3&&d&&(0,r.default)(t,n,d),d},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof i.default)return(0,i.default)(e,t)},g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.onMouseOver=function(){var e=this.isBottom?this.position+1:this.position;if(this.containerIdentifier===this.dragAndDrop.sourceContainerIdentifier&&e===(this.isBottom?this.dragAndDrop.originalPosition:this.dragAndDrop.originalPosition+1))return void(null!==this.dragAndDrop.dropMarkerPosition&&this.hideDropMarker());this.containerIdentifier===this.dragAndDrop.targetContainerIdentifier&&e===this.dragAndDrop.dropMarkerPosition||this.showDropMarker(this.containerIdentifier,e)},f([(0,d.Prop)({required:!0}),p("design:type",String)],t.prototype,"containerIdentifier",void 0),f([(0,d.Prop)({required:!0}),p("design:type",Number)],t.prototype,"position",void 0),f([(0,d.Prop)({required:!1,default:!1}),p("design:type",Boolean)],t.prototype,"isBottom",void 0),f([(0,d.Prop)(),p("design:type",Object)],t.prototype,"dragAndDrop",void 0),f([(0,d.Prop)(),p("design:type",Object)],t.prototype,"hideDropMarker",void 0),f([(0,d.Prop)(),p("design:type",Object)],t.prototype,"showDropMarker",void 0),t=f([d.Component],t)}(d.Vue);t.default=g},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(109),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=y(n(10)),r=y(n(4)),o=y(n(1)),a=y(n(5)),u=y(n(2)),s=y(n(3)),d=n(75),c=n(9),l=n(54),f=n(12),p=n(56),g=n(7);function y(e){return e&&e.__esModule?e:{default:e}}var v=function(){var e=s.default||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?(0,u.default)(n):(i.prototype=n.prototype,new i)}}(),h=function(e,t,n,i){var u,s=arguments.length,d=s<3?t:null===i?i=(0,a.default)(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(d=(s<3?u(d):s>3?u(t,n,d):u(t,n))||d);return s>3&&d&&(0,r.default)(t,n,d),d},_=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof i.default)return(0,i.default)(e,t)},m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sectionDividerPositon=null,t.localizationService=(0,f.getLocalizationService)(),t}return v(t,e),Object.defineProperty(t.prototype,"headerTitle",{get:function(){return this.localizationService.getLocalization("section.headerTitle")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addTooltip",{get:function(){return this.localizationService.getLocalization("section.addTooltip")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noComponentsAvailableMessage",{get:function(){return this.localizationService.getLocalization("widgetlist.nowidgets")},enumerable:!0,configurable:!0}),t.prototype.clickedAway=function(){this.isSectionListOpen&&this.closePopup()},t.prototype.onOpenComponentList=function(){this.isSectionListOpen?this.closePopup():this.openPopup(this.sectionIdentifier,(0,p.getPosition)(this.$refs.addSection),g.PopupType.AddSection)},t.prototype.setDividerButtonPosition=function(){var e=this.$refs.addSection.parentElement.getBoundingClientRect().left>l.SECTION_DIVIDER_ADD_BUTTON_OFFSET;this.sectionDividerPositon=e?g.ComponentPosition.Left:g.ComponentPosition.Right},t.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.setDividerButtonPosition)},t.prototype.mounted=function(){this.setDividerButtonPosition(),window.addEventListener("resize",this.setDividerButtonPosition)},h([(0,c.Prop)({required:!0}),_("design:type",String)],t.prototype,"sectionIdentifier",void 0),h([(0,c.Prop)({required:!0}),_("design:type",String)],t.prototype,"areaIdentifier",void 0),h([(0,c.Prop)({required:!0}),_("design:type",Number)],t.prototype,"position",void 0),h([(0,c.Prop)({required:!0}),_("design:type",Array)],t.prototype,"sectionTypes",void 0),h([(0,c.Prop)(),_("design:type",Boolean)],t.prototype,"isSectionListOpen",void 0),h([(0,c.Prop)(),_("design:type",String)],t.prototype,"popupContainerPosition",void 0),h([(0,c.Prop)(),_("design:type",Object)],t.prototype,"closePopup",void 0),h([(0,c.Prop)(),_("design:type",Object)],t.prototype,"openPopup",void 0),t=h([(0,c.Component)({mixins:[d.mixin]})],t)}(c.Vue);t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(111),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=p(n(10)),r=p(n(4)),o=p(n(1)),a=p(n(5)),u=p(n(2)),s=p(n(3)),d=p(n(432)),c=n(9),l=n(12),f=n(7);function p(e){return e&&e.__esModule?e:{default:e}}var g=function(){var e=s.default||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?(0,u.default)(n):(i.prototype=n.prototype,new i)}}(),y=function(e,t,n,i){var u,s=arguments.length,d=s<3?t:null===i?i=(0,a.default)(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(d=(s<3?u(d):s>3?u(t,n,d):u(t,n))||d);return s>3&&d&&(0,r.default)(t,n,d),d},v=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof i.default)return(0,i.default)(e,t)},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localizationService=(0,l.getLocalizationService)(),t}return g(t,e),Object.defineProperty(t.prototype,"getSectionTypeListTitleText",{get:function(){return this.localizationService.getLocalization("section.typelist.title")},enumerable:!0,configurable:!0}),t.prototype.onToggleSectionTypeList=function(){this.isSectionTypeListOpen?this.openPopup(this.sectionIdentifier,null,f.PopupType.ChangeSection):this.closePopup()},t.prototype.mounted=function(){d.default.addOne(this.$el)},t.prototype.beforeDestroy=function(){d.default.removeOne(this.$el)},y([(0,c.Prop)({required:!0}),v("design:type",String)],t.prototype,"areaIdentifier",void 0),y([(0,c.Prop)({required:!0}),v("design:type",String)],t.prototype,"sectionIdentifier",void 0),y([(0,c.Prop)({required:!0}),v("design:type",Boolean)],t.prototype,"showSectionTypeList",void 0),y([(0,c.Prop)({required:!0}),v("design:type",Array)],t.prototype,"sectionTypes",void 0),y([(0,c.Prop)({required:!0}),v("design:type",String)],t.prototype,"sectionType",void 0),y([(0,c.Prop)(),v("design:type",String)],t.prototype,"sectionHeaderPosition",void 0),y([(0,c.Prop)(),v("design:type",Boolean)],t.prototype,"isSectionTypeListOpen",void 0),y([(0,c.Prop)(),v("design:type",Object)],t.prototype,"openPopup",void 0),y([(0,c.Prop)(),v("design:type",Object)],t.prototype,"closePopup",void 0),t=y([c.Component],t)}(c.Vue);t.default=h},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(130),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=T(n(10)),r=T(n(4)),o=T(n(1)),a=T(n(5)),u=T(n(2)),s=T(n(3)),d=n(75),c=n(9),l=n(27),f=n(12),p=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(60)),n(47)),g=n(56),y=n(70),v=n(7),h=T(n(91)),_=T(n(196)),m=T(n(455)),E=n(197);function T(e){return e&&e.__esModule?e:{default:e}}var b=function(){var e=s.default||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?(0,u.default)(n):(i.prototype=n.prototype,new i)}}(),I=function(e,t,n,i){var u,s=arguments.length,d=s<3?t:null===i?i=(0,a.default)(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(d=(s<3?u(d):s>3?u(t,n,d):u(t,n))||d);return s>3&&d&&(0,r.default)(t,n,d),d},S=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof i.default)return(0,i.default)(e,t)},w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localizationService=(0,f.getLocalizationService)(),t}return b(t,e),Object.defineProperty(t.prototype,"addTooltip",{get:function(){return this.localizationService.getLocalization("widget.addTooltip")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noComponentsAvailableMessage",{get:function(){return this.localizationService.getLocalization("widgetlist.nowidgets")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgetZoneClasses",{get:function(){return{"ktc-widget-zone":!0,"ktc-widget-zone--empty":this.isEmpty,"ktc-widget-zone--highlighted":null!==this.dragAndDrop.itemIdentifier}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.widgetsInZone.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isWidgetListOpen",{get:function(){return this.popup.componentIdentifier===this.zoneIdentifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showZoneDropMarker",{get:function(){return!this.isEmpty&&this.dragAndDrop.targetContainerIdentifier===this.zoneIdentifier&&0===this.dragAndDrop.dropMarkerPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBanned",{get:function(){return(0,y.isAreaBanned)(this.dragAndDrop.bannedContainers,this.areaIdentifier)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDraggedItemWidget",{get:function(){return this.dragAndDrop.entity===p.EntityType.Widget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"friendlyElementIds",{get:function(){return[l.builderConfig.propertiesEditorClientId]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerTitle",{get:function(){return this.localizationService.getLocalization("widget.headerTitle")},enumerable:!0,configurable:!0}),t.prototype.onInsertWidget=function(e,t){this.addWidget(e,this.zoneIdentifier,t)},t.prototype.onRemoveWidget=function(e){var t=this.localizationService.getLocalization("widget.remove.confirmation");confirm(t)&&this.removeWidget(e,this.zoneIdentifier)},t.prototype.onOpenComponentList=function(){this.isWidgetListOpen?this.closePopup():this.openPopup(this.zoneIdentifier,(0,g.getPosition)(this.$refs.addWidget),v.PopupType.AddWidget)},t.prototype.clickedAway=function(){this.isWidgetListOpen&&this.closePopup()},I([(0,c.Prop)(),S("design:type",String)],t.prototype,"zoneIdentifier",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"dragAndDrop",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"zone",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"popup",void 0),I([(0,c.Prop)(),S("design:type",Array)],t.prototype,"widgetsInZone",void 0),I([(0,c.Prop)(),S("design:type",Array)],t.prototype,"availableWidgetTypes",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"addWidget",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"removeWidget",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"closePopup",void 0),I([(0,c.Prop)(),S("design:type",Object)],t.prototype,"openPopup",void 0),t=I([(0,c.Component)({components:{BorderContainer:h.default,Widget:m.default,DropZone:_.default},mixins:[d.mixin]})],t)}(E.WidgetZoneBase);t.default=w},function(e,t,n){"use strict";n.r(t);var i=n(132),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=m(n(10)),r=m(n(4)),o=m(n(1)),a=m(n(5)),u=m(n(2)),s=m(n(3)),d=n(9),c=n(75),l=n(72),f=n(56),p=n(47),g=n(12),y=n(7),v=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(60)),m(n(91))),h=m(n(457)),_=m(n(196));function m(e){return e&&e.__esModule?e:{default:e}}var E=function(){var e=s.default||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?(0,u.default)(n):(i.prototype=n.prototype,new i)}}(),T=function(e,t,n,i){var u,s=arguments.length,d=s<3?t:null===i?i=(0,a.default)(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(d=(s<3?u(d):s>3?u(t,n,d):u(t,n))||d);return s>3&&d&&(0,r.default)(t,n,d),d},b=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof i.default)return(0,i.default)(e,t)},I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localizationService=(0,g.getLocalizationService)(),t}return E(t,e),Object.defineProperty(t.prototype,"headerTitle",{get:function(){return this.localizationService.getLocalization("widget.headerTitle")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addTooltip",{get:function(){return this.localizationService.getLocalization("widget.addTooltip")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noComponentsAvailableMessage",{get:function(){return this.localizationService.getLocalization("widgetlist.nowidgets")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgetClasses",{get:function(){return{"ktc-widget":!0,"ktc-widget--highlighted":this.isHighlighted,"ktc-widget--selected":this.isSelected,"ktc-widget--dragged":this.isDragged}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDragged",{get:function(){return this.dragAndDrop.itemIdentifier===this.widgetIdentifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSelected",{get:function(){return this.selectedWidgetIdentifier===this.widgetIdentifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHighlighted",{get:function(){return this.highlightedWidgetIdentifier===this.widgetIdentifier&&!this.popup.componentIdentifier&&(!this.dragAndDrop.itemIdentifier&&!this.selectedWidgetIdentifier||this.dragAndDrop.entity===p.EntityType.Widget)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isWidgetListOpen",{get:function(){return this.widgetIdentifier===this.popup.componentIdentifier&&this.popup.popupType===y.PopupType.AddWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropZone",{get:function(){return this.dragAndDrop.entity===p.EntityType.Widget&&this.dragAndDrop.itemIdentifier!==this.widgetIdentifier&&!this.isDropBanned},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showWidgetDropMarker",{get:function(){return this.dragAndDrop.targetContainerIdentifier===this.zoneIdentifier&&this.dragAndDrop.dropMarkerPosition===this.position+1},enumerable:!0,configurable:!0}),t.prototype.onMouseOver=function(){this.isHighlighted||null!==this.popup.componentIdentifier||(this.dragAndDrop.itemIdentifier||null!==this.selectedWidgetIdentifier)&&this.dragAndDrop.entity!==p.EntityType.Widget||this.highlightWidget(this.widgetIdentifier)},t.prototype.onMouseLeave=function(){null!==this.popup.componentIdentifier||this.dragAndDrop.itemIdentifier||null!==this.selectedWidgetIdentifier||this.dehighlightWidget(this.widgetIdentifier)},t.prototype.onWidgetClick=function(){this.isFrozen||this.widgetIdentifier===this.selectedWidgetIdentifier||this.selectWidget(this.widgetIdentifier)},t.prototype.onWidgetClickAway=function(e){var t=this;this.$nextTick(function(){if(t.popup.popupType!==y.PopupType.PropertiesDialog){var n=[],i=e.target;if(e.path)n=e.path;else for(;i;)n.push(i),i=i.parentElement;var r=n.filter(function(e){return e instanceof Node});t.isFrozen||t.widgetIdentifier!==t.selectedWidgetIdentifier||r.some(function(e){return t.isFriendlyElementSelected(e)})||t.unselectWidget()}})},t.prototype.isFriendlyElementSelected=function(e){return this.friendlyElementIds.some(function(t){var n=document.getElementById(t);return n&&(n===e||n.contains(e))})},t.prototype.onOpenComponentList=function(){this.isWidgetListOpen?this.closePopup():this.openPopup(this.widgetIdentifier,(0,f.getPosition)(this.$refs.addWidget),y.PopupType.AddWidget)},t.prototype.onUpdateProperty=function(e){this.setWidgetProperty(this.widgetIdentifier,e.detail)},t.prototype.onMarkupUpdated=function(e){(0,l.initializeInlineEditors)(e,this.displayedVariant.properties)},t.prototype.onInsertWidget=function(e){this.$emit("insertWidget",e.detail.key,this.position+1),this.closePopup()},t.prototype.clickedAway=function(){this.isWidgetListOpen&&this.closePopup()},T([(0,d.Prop)({required:!0}),b("design:type",String)],t.prototype,"widgetIdentifier",void 0),T([(0,d.Prop)({required:!0}),b("design:type",Number)],t.prototype,"position",void 0),T([(0,d.Prop)({required:!0}),b("design:type",String)],t.prototype,"zoneIdentifier",void 0),T([(0,d.Prop)({default:!1}),b("design:type",Boolean)],t.prototype,"isDropBanned",void 0),T([(0,d.Prop)({required:!0}),b("design:type",String)],t.prototype,"areaIdentifier",void 0),T([(0,d.Prop)({default:[]}),b("design:type",Array)],t.prototype,"friendlyElementIds",void 0),T([(0,d.Prop)({default:[]}),b("design:type",Array)],t.prototype,"availableWidgetTypes",void 0),T([(0,d.Prop)(),b("design:type",Object)],t.prototype,"dragAndDrop",void 0),T([(0,d.Prop)(),b("design:type",String)],t.prototype,"selectedWidgetIdentifier",void 0),T([(0,d.Prop)(),b("design:type",String)],t.prototype,"highlightedWidgetIdentifier",void 0),T([(0,d.Prop)(),b("design:type",Object)],t.prototype,"popup",void 0),T([(0,d.Prop)(),b("design:type",Object)],t.prototype,"widget",void 0),T([(0,d.Prop)(),b("design:type",String)],t.prototype,"displayedVariantMarkup",void 0),T([(0,d.Prop)(),b("design:type",Object)],t.prototype,"displayedVariant",void 0),T([(0,d.Prop)(),b("design:type",String)],t.prototype,"widgetTitle",void 0),T([(0,d.Prop)(),b("design:type",Boolean)],t.prototype,"isFrozen",void 0),T([(0,d.Prop)(),b("design:type",Object)],t.prototype,"highlightWidget",void 0),T([(0,d.Prop)(),b("design:type",Object)],t.prototype,"dehighlightWidget",void 0),T([(0,d.Prop)(),b("design:type",Object)],t.prototype,"selectWidget",void 0),T([(0,d.Prop)(),b("design:type",Object)],t.prototype,"unselectWidget",void 0),T([(0,d.Prop)(),b("design:type",Object)],t.prototype,"closePopup",void 0),T([(0,d.Prop)(),b("design:type",Object)],t.prototype,"openPopup",void 0),T([(0,d.Prop)(),b("design:type",Object)],t.prototype,"setWidgetProperty",void 0),t=T([(0,d.Component)({components:{BorderContainer:v.default,WidgetMarkup:h.default,DropZone:_.default},mixins:[c.mixin]})],t)}(d.Vue);t.default=I},function(e,t,n){"use strict";n.r(t);var i=n(134),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=p(n(10)),r=p(n(4)),o=p(n(1)),a=p(n(5)),u=p(n(2)),s=p(n(3)),d=n(9),c=p(n(264)),l=n(72),f=n(458);function p(e){return e&&e.__esModule?e:{default:e}}var g=function(){var e=s.default||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?(0,u.default)(n):(i.prototype=n.prototype,new i)}}(),y=function(e,t,n,i){var u,s=arguments.length,d=s<3?t:null===i?i=(0,a.default)(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(d=(s<3?u(d):s>3?u(t,n,d):u(t,n))||d);return s>3&&d&&(0,r.default)(t,n,d),d},v=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof i.default)return(0,i.default)(e,t)},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.externalScriptIdentifier="ktc-widget-markup-script-"+(0,c.default)(),t}return g(t,e),t.prototype.beforeDestroy=function(){this.cleanup()},t.prototype.mounted=function(){(0,f.renderMarkup)(this.markup,this.$refs.widgetMarkup,this.externalScriptIdentifier),this.initializeEditors()},t.prototype.beforeUpdate=function(){this.cleanup()},t.prototype.updated=function(){(0,f.renderMarkup)(this.markup,this.$refs.widgetMarkup,this.externalScriptIdentifier),this.initializeEditors()},t.prototype.cleanup=function(){(0,l.invokeInlineEditorsDestroy)(this.$refs.widgetMarkup),(0,f.removeScriptElements)(this.externalScriptIdentifier)},t.prototype.initializeEditors=function(){this.$emit("markupUpdated",this.$refs.widgetMarkup)},y([(0,d.Prop)({required:!0}),v("design:type",String)],t.prototype,"markup",void 0),y([(0,d.Prop)({required:!0}),v("design:type",String)],t.prototype,"variantIdentifier",void 0),t=y([d.Component],t)}(d.Vue);t.default=h},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hideDropMarker=t.showDropMarker=t.endDragging=t.startDragging=void 0;var i=n(7);t.startDragging=function(e,t,n,r,o,a){return{type:i.TypeKeys.START_DRAGGING,entity:e,typeIdentifier:t,itemIdentifier:n,sourceContainerIdentifier:r,originalPosition:o,bannedContainers:a}},t.endDragging=function(){return{type:i.TypeKeys.END_DRAGGING}},t.showDropMarker=function(e,t){return{type:i.TypeKeys.SHOW_DROP_MARKER,containerIdentifier:e,dropMarkerPosition:t}},t.hideDropMarker=function(){return{type:i.TypeKeys.HIDE_DROP_MARKER}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateWidgetVariantMarkups=void 0;var i=n(7);t.updateWidgetVariantMarkups=function(e){return{type:i.TypeKeys.UPDATE_WIDGET_VARIANT_MARKUPS,markups:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),r=n(192),o=function(e){return e&&e.__esModule?e:{default:e}}(n(425));t.default=(0,i.connect)(function(e){return{dragAndDrop:e.dragAndDrop}},function(){return{hideDropMarker:r.hideDropMarker,showDropMarker:r.showDropMarker}})(o.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetZoneBase=void 0;var i=c(n(10)),r=c(n(4)),o=c(n(1)),a=c(n(5)),u=c(n(2)),s=c(n(3)),d=n(9);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){var e=s.default||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?(0,u.default)(n):(i.prototype=n.prototype,new i)}}(),f=function(e,t,n,i){var u,s=arguments.length,d=s<3?t:null===i?i=(0,a.default)(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(d=(s<3?u(d):s>3?u(t,n,d):u(t,n))||d);return s>3&&d&&(0,r.default)(t,n,d),d},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof i.default)return(0,i.default)(e,t)},g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),f([(0,d.Prop)({required:!0}),p("design:type",String)],t.prototype,"sectionIdentifier",void 0),f([(0,d.Prop)({required:!0}),p("design:type",Number)],t.prototype,"zoneIndex",void 0),f([(0,d.Prop)({required:!0}),p("design:type",String)],t.prototype,"areaIdentifier",void 0),t}(d.Vue);t.WidgetZoneBase=g},,,,,,,,,,,function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BorderContainer",{class:e.editableAreaClasses,attrs:{id:e.identifier,banned:e.isBanned,bannedMessage:e.bannedAreaMessage}},[n("div",{staticClass:"ktc-admin-ui"},[e.showAreaDropMarker?n("kentico-drop-marker"):e._e()],1),e._v(" "),e._l(e.sectionsInArea,function(t,i){return n("Section",{key:t,staticClass:"ktc-section",attrs:{id:t,position:i,sectionIdentifier:t,areaIdentifier:e.identifier},on:{removeSection:e.onRemoveSection,addSection:e.onAddSection,changeSection:e.onChangeSection},scopedSlots:e._u([{key:"sectionMarkup",fn:function(n){var i=n.sectionMarkup;return[e._t("sectionMarkup",null,{sectionIdentifier:t,sectionMarkup:i})]}}])})})],2)},r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},,,,function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.borderClasses},[n("div",{staticClass:"ktc-admin-ui"},[e.banned?n("kentico-alert-box",{attrs:{message:e.bannedMessage}}):e._e(),e._v(" "),n("div",{staticClass:"ktc-border ktc-border-top"}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showVerticalBorder,expression:"showVerticalBorder"}],staticClass:"ktc-border ktc-border-right"}),e._v(" "),n("div",{staticClass:"ktc-border ktc-border-bottom"}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showVerticalBorder,expression:"showVerticalBorder"}],staticClass:"ktc-border ktc-border-left"})],1),e._v(" "),e._t("default")],2)},r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},,,,function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BorderContainer",{attrs:{highlighted:e.highlightBorder},nativeOn:{mouseenter:function(t){return e.onSectionMouseEnter(t)},mouseleave:function(t){return e.onSectionMouseLeave(t)},click:function(t){return e.onSectionClick(t)}}},[n("SectionHeader",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.onHeaderClickAway,expression:"onHeaderClickAway"}],ref:"sectionHeader",staticClass:"ktc-section-header-container",attrs:{sectionTypes:e.sectionTypes,areaIdentifier:e.areaIdentifier,sectionIdentifier:e.sectionIdentifier,showSectionTypeList:e.showSectionTypeList,sectionType:e.sectionType},on:{closePopup:e.onCloseSectionTypeList,changeSection:function(t){e.$emit("changeSection",t,e.sectionIdentifier)},removeSection:function(t){e.$emit(t.type,e.sectionIdentifier)}},nativeOn:{mouseenter:function(t){return t.stopPropagation(),e.onHeaderMouseEnter(t)},mouseleave:function(t){return t.stopPropagation(),e.onHeaderMouseLeave(t)}}}),e._v(" "),n("div",{staticClass:"ktc-admin-ui"},[e.showDropZone?n("DropZone",{staticClass:"ktc-dropzone--top",attrs:{containerIdentifier:e.areaIdentifier,position:e.position,isBottom:!1}}):e._e(),e._v(" "),e.showDropZone?n("DropZone",{staticClass:"ktc-dropzone--bottom",attrs:{containerIdentifier:e.areaIdentifier,position:e.position,isBottom:!0}}):e._e()],1),e._v(" "),e._t("sectionMarkup",null,{sectionMarkup:e.sectionMarkup}),e._v(" "),n("div",{staticClass:"ktc-admin-ui"},[e.showSectionDropMarker?n("kentico-drop-marker"):e._e(),e._v(" "),n("SectionDivider",{directives:[{name:"show",rawName:"v-show",value:e.showSectionDivider,expression:"showSectionDivider"}],staticClass:"ktc-section-divider",attrs:{sectionTypes:e.sectionTypes,sectionIdentifier:e.sectionIdentifier,areaIdentifier:e.areaIdentifier,position:e.position},on:{selectItem:e.onSelectItem}})],1)],2)},r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},,function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BorderContainer",{class:e.widgetZoneClasses,attrs:{id:e.zoneIdentifier}},[n("div",{staticClass:"ktc-admin-ui"},[e.isEmpty?n("DropZone",{directives:[{name:"show",rawName:"v-show",value:e.isDraggedItemWidget&&!e.isBanned,expression:"isDraggedItemWidget && !isBanned"}],staticClass:"ktc-dropzone--full",class:{"ktc-dropzone--active":e.dragAndDrop.targetContainerIdentifier===e.zoneIdentifier},attrs:{position:0,containerIdentifier:e.zoneIdentifier}}):e._e(),e._v(" "),e.showZoneDropMarker?n("kentico-drop-marker"):e._e()],1),e._v(" "),e._l(e.widgetsInZone,function(t,i){return n("Widget",{key:t.identifier,attrs:{id:t.identifier,widgetIdentifier:t.identifier,zoneIdentifier:e.zoneIdentifier,areaIdentifier:e.areaIdentifier,position:i,isDropBanned:e.isBanned,friendlyElementIds:e.friendlyElementIds,availableWidgetTypes:e.availableWidgetTypes},on:{removeWidget:e.onRemoveWidget,insertWidget:e.onInsertWidget},scopedSlots:e._u([{key:"widgetHeader",fn:function(t){var n=t.widgetTitle,i=t.widgetIdentifier;return[e._t("widgetHeader",null,{widgetTitle:n,widgetIdentifier:i})]}}])})}),e._v(" "),n("div",{staticClass:"ktc-admin-ui"},[e.isEmpty?n("kentico-add-component",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.clickedAway,expression:"clickedAway"},{name:"show",rawName:"v-show",value:!e.dragAndDrop.itemIdentifier,expression:"!dragAndDrop.itemIdentifier"}],ref:"addWidget",attrs:{active:e.isWidgetListOpen,primary:!0},domProps:{localizationService:e.localizationService,showComponentList:e.isWidgetListOpen,position:e.popup.position,components:e.availableWidgetTypes,headerTitle:e.headerTitle,addTooltip:e.addTooltip,noComponentsAvailableMessage:e.noComponentsAvailableMessage},on:{openComponentList:e.onOpenComponentList,selectItem:function(t){e.onInsertWidget(t.detail.key,0)},closePopup:e.closePopup}}):e._e()],1)],2)},r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},,,,,function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"ktc-dropzone",on:{mouseover:this.onMouseOver}})},r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;return(e._self._c||t)("kentico-section-divider",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.clickedAway,expression:"clickedAway"}],ref:"addSection",attrs:{active:e.isSectionListOpen,"add-button-position":e.sectionDividerPositon},domProps:{localizationService:e.localizationService,showComponentList:e.isSectionListOpen,position:e.popupContainerPosition,components:e.sectionTypes,headerTitle:e.headerTitle,addTooltip:e.addTooltip,noComponentsAvailableMessage:e.noComponentsAvailableMessage},on:{openComponentList:e.onOpenComponentList,selectItem:function(t){e.$emit(t.type,t)},closePopup:e.closePopup}})},r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ktc-section-header-wrapper ktc-admin-ui"},[n("kentico-section-header",{attrs:{display:e.sectionHeaderPosition},domProps:{localizationService:e.localizationService,sectionTypeListTitleText:e.getSectionTypeListTitleText,sectionTypes:e.sectionTypes,showSectionTypeList:e.showSectionTypeList,activeSectionTypeIdentifier:e.sectionType},on:{removeSection:function(t){e.$emit(t.type,t)},toggleSectionTypeList:e.onToggleSectionTypeList,closePopup:function(t){e.$emit(t.type,t)},selectItem:function(t){e.$emit("changeSection",t)},mousedown:function(e){e.preventDefault()}}})],1)},r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BorderContainer",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.onWidgetClickAway,expression:"onWidgetClickAway"}],class:e.widgetClasses,attrs:{highlighted:e.isHighlighted,selected:e.isSelected,hideVerticalBorder:!0,primary:!0},nativeOn:{"!click":function(t){return e.onWidgetClick(t)},mouseover:function(t){return e.onMouseOver(t)},mouseleave:function(t){return e.onMouseLeave(t)},"!updateProperty":function(t){return e.onUpdateProperty(t)}}},[n("div",{staticClass:"ktc-admin-ui"},[n("div",{staticClass:"ktc-widget-header-wrapper",on:{removeWidget:function(t){e.$emit(t.type,e.widgetIdentifier)}}},[e._t("widgetHeader",null,{widgetTitle:e.widgetTitle,widgetIdentifier:e.widgetIdentifier})],2),e._v(" "),e.showDropZone?n("DropZone",{staticClass:"ktc-dropzone--top",attrs:{containerIdentifier:e.zoneIdentifier,position:e.position,isBottom:!1}}):e._e(),e._v(" "),e.showDropZone?n("DropZone",{staticClass:"ktc-dropzone--bottom",attrs:{containerIdentifier:e.zoneIdentifier,position:e.position,isBottom:!0}}):e._e()],1),e._v(" "),n("WidgetMarkup",{attrs:{markup:e.displayedVariantMarkup,variantIdentifier:e.displayedVariant.identifier},on:{markupUpdated:e.onMarkupUpdated}}),e._v(" "),n("div",{staticClass:"ktc-admin-ui"},[n("kentico-add-component",{directives:[{name:"show",rawName:"v-show",value:!e.dragAndDrop.itemIdentifier,expression:"!dragAndDrop.itemIdentifier"},{name:"on-clickaway",rawName:"v-on-clickaway",value:e.clickedAway,expression:"clickedAway"}],ref:"addWidget",attrs:{"is-small":"true",active:e.isWidgetListOpen,primary:!0},domProps:{localizationService:e.localizationService,showComponentList:e.isWidgetListOpen,components:e.availableWidgetTypes,position:e.popup.position,headerTitle:e.headerTitle,addTooltip:e.addTooltip,noComponentsAvailableMessage:e.noComponentsAvailableMessage},on:{openComponentList:e.onOpenComponentList,closePopup:e.closePopup,selectItem:e.onInsertWidget}}),e._v(" "),e.showWidgetDropMarker?n("kentico-drop-marker"):e._e()],1)],1)},r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},,,,function(e,t,n){"use strict";var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{key:this.variantIdentifier},[t("div",[t("div",{ref:"widgetMarkup",staticClass:"ktc-widget-body-wrapper",domProps:{dataMarkup:this.markup}})])])},r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},function(e,t){
/*!
 * Built with http://stenciljs.com
 * 2018-08-22T22:04:20
 */
!function(e,t,n,i,r,o,a,u,s,d,c,l,f,p){for((c=e.components=e.components||{}).components=s,(f=s.filter(function(e){return e[2]}).map(function(e){return e[0]})).length&&((l=t.createElement("style")).innerHTML=f.join()+"{visibility:hidden}.hydrated{visibility:inherit}",l.setAttribute("data-styles",""),t.head.insertBefore(l,t.head.firstChild)),function(e,t,n){(e["s-apps"]=e["s-apps"]||[]).push("components"),n.componentOnReady||(n.componentOnReady=function(){var t=this;function n(n){if(t.nodeName.indexOf("-")>0){for(var i=e["s-apps"],r=0,o=0;o<i.length;o++)if(e[i[o]].componentOnReady){if(e[i[o]].componentOnReady(t,n))return;r++}if(r<i.length)return void(e["s-cr"]=e["s-cr"]||[]).push([t,n])}n(null)}return e.Promise?new e.Promise(n):{then:n}})}(e,0,d),r=r||c.resourcesUrl,l=(f=t.querySelectorAll("script")).length-1;l>=0&&!(p=f[l]).src&&!p.hasAttribute("data-resources-url");l--);f=p.getAttribute("data-resources-url"),!r&&f&&(r=f),!r&&p.src&&(r=(f=p.src.split("/").slice(0,-1)).join("/")+(f.length?"/":"")+"components/"),l=t.createElement("script"),function(e,t,n,i){return!(t.search.indexOf("core=esm")>0)&&(!(!(t.search.indexOf("core=es5")>0||"file:"===t.protocol)&&e.customElements&&e.customElements.define&&e.fetch&&e.CSS&&e.CSS.supports&&e.CSS.supports("color","var(--c)")&&"noModule"in n)||function(e){try{return new Function('import("")'),!1}catch(e){}return!0}())}(e,e.location,l)?l.src=r+"components.core.pf.js":(l.src=r+"components.core.js",l.setAttribute("type","module"),l.setAttribute("crossorigin",!0)),l.setAttribute("data-resources-url",r),l.setAttribute("data-namespace","components"),t.head.appendChild(l)}(window,document,0,0,0,0,0,0,[["kentico-add-component","kentico-add-component",1,[["addTooltip",1,0,"add-tooltip",2],["components",1],["headerTitle",1,0,"header-title",2],["localizationService",1],["noComponentsAvailableMessage",1,0,"no-components-available-message",2],["position",1],["primary",1,0,1,3],["showComponentList",1,0,"show-component-list",3]],1],["kentico-add-component-button","kentico-add-component-button",1,[["primary",1,0,1,3],["tooltip",1,0,1,2]]],["kentico-alert-box","kentico-alert-box",1,[["message",1,0,1,2]],1],["kentico-drop-marker","kentico-drop-marker",1,0,1],["kentico-form-modal-dialog","kentico-form-modal-dialog",1,[["componentName",1,0,"component-name",2],["ensureStyles",3,0,0,0,"ensureStyles"],["formMarkup",1,0,"form-markup",2],["getString",3,0,0,0,"getString"],["isValid",1,0,"is-valid",3],["localizationService",1]]],["kentico-personalization-button","kentico-personalization-button",1,[["activeItemIdentifier",1,0,"active-item-identifier",2],["addVariant",1,0,"add-variant",1],["builderConfig",1],["changeVariantsPriority",1,0,"change-variants-priority",1],["conditionType",1,0,"condition-type",2],["deleteVariant",1,0,"delete-variant",1],["dialogMode",5],["getString",3,0,0,0,"getString"],["httpClient",1],["localizationService",1],["personalizationConditionTypes",1],["personalizationPopupPosition",2],["popupItems",1],["selectVariant",1,0,"select-variant",1],["selectedConditionType",5],["selectedVariantIdentifier",5],["showPersonalizationPopup",1,0,"show-personalization-popup",3],["thisElement",7],["updateVariant",1,0,"update-variant",1],["variantName",5],["variantParameters",5]]],["kentico-personalization-configuration","kentico-personalization-button",1,[["addVariant",1],["builderConfig",1],["configurationLoaded",1],["ensureStyles",3,0,0,0,"ensureStyles"],["getString",3,0,0,0,"getString"],["hostElement",7],["httpClient",1],["localizationService",1],["personalizationConditionTypes",1],["selectedConditionType",1,0,"selected-condition-type",2],["updateVariant",1],["variantIdentifier",1,0,"variant-identifier",2],["variantName",1,0,"variant-name",2],["variantParameters",1]]],["kentico-pop-up-container","kentico-pop-up-container",1,[["getString",3,0,0,0,"getString"],["headerTitle",1,0,"header-title",2],["localizationService",1],["popupContainerEl",7],["position",1,0,1,2],["primary",1,0,1,3],["showBackButton",1,0,"show-back-button",3]]],["kentico-pop-up-listing","kentico-add-component",1,[["activeItemIdentifier",1,0,"active-item-identifier",2],["items",1],["noItemsAvailableMessage",1,0,"no-items-available-message",2],["singleColumn",1,0,"single-column",3]],1],["kentico-section-divider","kentico-section-divider",1,[["addTooltip",1,0,"add-tooltip",2],["components",1],["headerTitle",1,0,"header-title",2],["localizationService",1],["noComponentsAvailableMessage",1,0,"no-components-available-message",2],["position",1],["showComponentList",1,0,"show-component-list",3]],1],["kentico-section-header","kentico-section-header",1,[["activeSectionTypeIdentifier",1,0,"active-section-type-identifier",2],["getString",3,0,0,0,"getString"],["localizationService",1],["sectionTypeListTitleText",1,0,"section-type-list-title-text",2],["sectionTypes",1],["showSectionTypeList",1,0,"show-section-type-list",3]]],["kentico-submit-button","kentico-submit-button",1,[["buttonText",1,0,"button-text",2],["buttonTooltip",1,0,"button-tooltip",2]],1],["kentico-variant-listing","kentico-add-component",1,[["activeItemIdentifier",1,0,"active-item-identifier",2],["changeVariantsPriority",1],["deleteVariant",1],["editVariant",1],["getString",3,0,0,0,"getString"],["hostElement",7],["localizationService",1],["selectVariant",1],["variants",1]],1],["kentico-widget-header","kentico-widget-header",1,[["getString",3,0,0,0,"getString"],["localizationService",1],["widgetTitle",1,0,"widget-title",2]]],["kentico-widget-properties-button","kentico-widget-properties-button",1,[["getString",3,0,0,0,"getString"],["localizationService",1]],1]],HTMLElement.prototype)},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.builder=void 0;var i=_(n(31)),r=_(n(8)),o=_(n(6)),a=_(n(11)),u=_(n(53)),s=n(27),d=n(12),c=n(345),l=n(56),f=n(32),p=n(72),g=n(371),y=n(39),v=n(73),h=n(15);function _(e){return e&&e.__esModule?e:{default:e}}var m=function(e,t,n,i){return new(n||(n=a.default))(function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function u(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,u)}s((i=i.apply(e,t||[])).next())})},E=function(e,t){var n,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:d(0),throw:d(1),return:d(2)},"function"==typeof o.default&&(u[r.default]=function(){return this}),u;function d(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){s.label=r[1];break}if(6===r[0]&&s.label<a[1]){s.label=a[1],a=r;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(r);break}a[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};u.default.config.ignoredElements=[/^kentico-/],u.default.config.productionTip=!1;var T=!1,b=function(e){if(null!==e.getState().popup.componentIdentifier){var t=document.querySelector("kentico-add-component[active='true'], kentico-section-divider[active='true'], kentico-personalization-button[show-personalization-popup]");if(null!==t){var n=(0,l.getPosition)(t);n!==e.getState().popup.position&&e.dispatch((0,v.setPopupPosition)(n))}}},I=function(e,t){(0,i.default)(e.getState().editableAreas).forEach(function(n){new u.default({components:{EditableArea:t},data:{store:e},provide:function(){return{store:this.store}},el:'[data-kentico-editable-area-id="'+n+'"]',template:"<EditableArea identifier="+n+" />"})})};t.builder={init:function(e,t,n,i,r){return m(void 0,void 0,void 0,function(){var o,a,u;return E(this,function(l){switch(l.label){case 0:if(T)return[2];T=!0,l.label=1;case 1:return l.trys.push([1,3,,4]),e.validate(),(0,s.initHttpClient)(e),[4,(0,d.getService)(h.SERVICE_TYPES.PageConfigurationService).getConfiguration()];case 2:return o=l.sent(),a=t(o),(0,g.registerListener)(a.getState,a.dispatch,e.allowedOrigins),(0,y.postMessage)(h.MessageTypes.GET_DISPLAYED_WIDGET_VARIANTS,null,"*"),window.addEventListener("resize",function(){b(a)}),(0,c.initializeDragAndDrop)(a.dispatch,a.getState,i),I(a,n),(0,c.initializeSectionDragAndDrop)(a.dispatch,a.getState,r),[2,a];case 3:return u=l.sent(),f.logger.logException(u),[3,4];case 4:return[2]}})})},registerInlineEditor:p.registerInlineEditor}},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.thawWidgetSelection=t.freezeWidgetSelection=t.unselectWidget=t.selectWidget=void 0;var i=n(7);t.selectWidget=function(e){return{type:i.TypeKeys.SELECT_WIDGET,widgetIdentifier:e}},t.unselectWidget=function(){return{type:i.TypeKeys.UNSELECT_WIDGET}},t.freezeWidgetSelection=function(){return{type:i.TypeKeys.FREEZE_WIDGET_SELECTION}},t.thawWidgetSelection=function(){return{type:i.TypeKeys.THAW_WIDGET_SELECTION}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(e,t,n,i,r){this.applicationPath=e,this.configurationEndpoints=t,this.metadataEndpoint=n,this.allowedOrigins=i,this.constants=r}}();t.BuilderConfig=i},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.composeEnhancers=void 0;var i=n(48);t.composeEnhancers=function(e){var t=e||!1,n=window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;return t&&n?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:i.compose}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectConfigurationChange=void 0;var i=n(39),r=n(15);t.detectConfigurationChange=function(e){return function(t){return function(n){var o=e.getState(),a=o.editableAreas,u=o.sections,s=o.widgets,d=o.zones,c=o.widgetVariants,l=t(n),f=e.getState(),p=f.editableAreas,g=f.sections,y=f.widgets,v=f.zones,h=f.widgetVariants;return a===p&&u===g&&d===v&&s===y&&c===h||(0,i.postMessage)(r.MessageTypes.CONFIGURATION_CHANGED,null,"*"),l}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logErrors=void 0;var i=n(32);t.logErrors=function(e){return function(e){return function(t){try{return e(t)}catch(e){i.logger.logException(e)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseReducers=void 0;var i=n(379),r=n(380),o=n(381),a=n(382),u=n(383),s=n(384),d=n(385),c=n(386),l=n(387),f=n(388),p=n(261),g=n(389);t.baseReducers={displayedWidgetVariants:i.displayedWidgetVariants,dragAndDrop:r.dragAndDrop,editableAreas:o.editableAreas,highlightedSection:a.highlightedSection,highlightedWidget:u.highlightedWidget,markups:s.markups,popup:d.popup,sections:c.sections,widgets:p.widgets,widgetSelection:l.widgetSelection,widgetVariants:f.widgetVariants,zones:g.zones,editableAreasConfiguration:function(e){return void 0===e&&(e={}),e},metadata:function(e){return void 0===e&&(e={personalizationConditionTypes:{},sections:{},widgets:{}}),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.widgets=void 0;var i=s(n(1)),r=s(n(55)),o=s(n(13)),a=s(n(57)),u=n(7);function s(e){return e&&e.__esModule?e:{default:e}}var d=o.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof r.default){var o=0;for(i=(0,r.default)(e);o<i.length;o++)t.indexOf(i[o])<0&&(n[i[o]]=e[i[o]])}return n},l={};t.widgets=function(e,t){var n,r;switch(void 0===e&&(e=l),t.type){case u.TypeKeys.ADD_WIDGET:return d({},e,((n={})[t.widget.identifier]=t.widget,n));case u.TypeKeys.REMOVE_WIDGET:var o=t.widget.identifier;e[o];return c(e,["symbol"===(void 0===o?"undefined":(0,i.default)(o))?o:o+""]);case u.TypeKeys.CHANGE_SECTION:case u.TypeKeys.REMOVE_SECTION:return(0,a.default)(e,t.widgetsToRemove.map(function(e){return e.identifier}));case u.TypeKeys.REMOVE_WIDGET_VARIANT:var s=e[t.widgetIdentifier],f=s.variants.filter(function(e){return e!==t.variantIdentifier});return d({},e,((r={})[s.identifier]={identifier:s.identifier,type:s.type,conditionType:f.length>1?s.conditionType:void 0,variants:f},r));default:return e}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moveWidget=t.removeWidget=t.addWidget=void 0;var i=n(7);t.addWidget=function(e,t,n,r,o){return{type:i.TypeKeys.ADD_WIDGET,widget:e,zoneIdentifier:t,position:n,variant:r,markup:o}},t.removeWidget=function(e,t){return{type:i.TypeKeys.REMOVE_WIDGET,widget:e,zoneIdentifier:t}},t.moveWidget=function(e,t,n,r){return{type:i.TypeKeys.MOVE_WIDGET,widgetIdentifier:e,originalZoneIdentifier:t,targetZoneIdentifier:n,position:r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sectionThunksFactory=void 0;var i=f(n(42)),r=f(n(8)),o=f(n(6)),a=f(n(11)),u=f(n(90)),s=n(59),d=n(400),c=n(85),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(404));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t,n,i){return new(n||(n=a.default))(function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function u(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,u)}s((i=i.apply(e,t||[])).next())})},g=function(e,t){var n,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:d(0),throw:d(1),return:d(2)},"function"==typeof o.default&&(u[r.default]=function(){return this}),u;function d(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){s.label=r[1];break}if(6===r[0]&&s.label<a[1]){s.label=a[1],a=r;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(r);break}a[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},y=function(e,t,n){void 0===n&&(n=null);for(var i=e.metadata.sections[t],r={identifier:n||(0,s.v4)(),type:t,zones:[]},o=0;o<i.zoneCount;o++){var a=(0,s.v4)();r.zones.push(a)}return r};t.sectionThunksFactory=function(e,t,n){return{addSection:function(n,i,r){return p(void 0,void 0,void 0,function(){var o;return g(this,function(a){return o=y(t(),n),e(l.addSection(o,i,r)),[2]})})},removeSection:function(n,r){return p(void 0,void 0,void 0,function(){var o,a,s,d,f;return g(this,function(p){return o=t(),a=o.sections[n],s=(0,c.getWidgetsInZones)(a.zones,o.zones),d=(0,i.default)((0,u.default)(o.widgets,s)),1===o.editableAreas[r].sections.length?(f=y(o,o.editableAreasConfiguration[r].defaultSection,n),e(l.changeSection(a,f,d))):e(l.removeSection(a,r,d)),[2]})})},changeSection:function(n,i){return p(void 0,void 0,void 0,function(){var r,o,a;return g(this,function(u){switch(u.label){case 0:return r=t(),o=r.sections[n],a=y(r,i),[4,(0,d.updateSectionWidgetVariantsWithDirtyMarkup)(n,r,e)];case 1:return u.sent(),e(l.changeSection(o,a)),[2]}})})},moveSection:function(n,i,r,o){return p(void 0,void 0,void 0,function(){var a,u;return g(this,function(s){switch(s.label){case 0:return a=t(),[4,(0,d.updateSectionWidgetVariantsWithDirtyMarkup)(n,a,e)];case 1:return s.sent(),1===a.editableAreas[i].sections.length&&(u=y(a,a.editableAreasConfiguration[i].defaultSection),e(l.addSection(u,i,0))),e(l.moveSection(n,i,r,o)),[2]}})})}}}},,,function(e,t,n){"use strict";n.r(t);var i=n(208),r=n(98);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);n(437);var a=n(0),u=Object(a.a)(r.default,i.a,i.b,!1,null,"67d3c158",null);t.default=u.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SectionMarkupBase=void 0;var i=c(n(10)),r=c(n(4)),o=c(n(1)),a=c(n(5)),u=c(n(2)),s=c(n(3)),d=n(9);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){var e=s.default||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?(0,u.default)(n):(i.prototype=n.prototype,new i)}}(),f=function(e,t,n,i){var u,s=arguments.length,d=s<3?t:null===i?i=(0,a.default)(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(d=(s<3?u(d):s>3?u(t,n,d):u(t,n))||d);return s>3&&d&&(0,r.default)(t,n,d),d},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof i.default)return(0,i.default)(e,t)},g=function(e){function t(t){var n=e.call(this)||this;return n.widgetZone=t,n}return l(t,e),t.prototype.render=function(e){var t=this;return e({template:"<div>"+this.sectionMarkup+"</div>",components:{WidgetZone:this.widgetZone},data:function(){return{sectionIdentifier:t.sectionIdentifier,areaIdentifier:t.areaIdentifier}}})},f([(0,d.Prop)({required:!0}),p("design:type",String)],t.prototype,"sectionIdentifier",void 0),f([(0,d.Prop)({required:!0}),p("design:type",String)],t.prototype,"sectionMarkup",void 0),f([(0,d.Prop)({required:!0}),p("design:type",String)],t.prototype,"areaIdentifier",void 0),t}(d.Vue);t.SectionMarkupBase=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectWidgetVariant=t.setWidgetProperty=void 0;var i=n(448),r=n(89);t.setWidgetProperty=r.setWidgetProperty,t.selectWidgetVariant=i.selectWidgetVariant},function(e,t,n){"use strict";n.r(t);var i=n(218),r=n(129);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);n(463);var a=n(0),u=Object(a.a)(r.default,i.a,i.b,!1,null,"66b2f4c6",null);t.default=u.exports},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageConfigurationService=void 0;var i=y(n(31)),r=y(n(8)),o=y(n(6)),a=y(n(11)),u=y(n(4)),s=y(n(1)),d=y(n(5)),c=y(n(13)),l=n(43),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(41)),p=n(496),g=n(282);function y(e){return e&&e.__esModule?e:{default:e}}var v=c.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},h=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=(0,d.default)(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,s.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&(0,u.default)(t,n,a),a},_=function(e,t,n,i){return new(n||(n=a.default))(function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function u(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,u)}s((i=i.apply(e,t||[])).next())})},m=function(e,t){var n,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:d(0),throw:d(1),return:d(2)},"function"==typeof o.default&&(u[r.default]=function(){return this}),u;function d(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){s.label=r[1];break}if(6===r[0]&&s.label<a[1]){s.label=a[1],a=r;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(r);break}a[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},E=function(){function e(){}return e.prototype.getConfiguration=function(){return _(this,void 0,void 0,function(){var e,t,n,r,o,a;return m(this,function(u){switch(u.label){case 0:return e=(0,g.prepareDefaultConfiguration)(),[4,f.getState()];case 1:return t=u.sent(),n=(0,g.filterPageConfigurations)((0,i.default)(e.editableAreas),t),n=(0,g.addEditableAreas)(e.editableAreas,n),o=[{editableAreasConfiguration:(0,g.loadAreaConfigurations)()},n],a={markups:{sections:{},variants:{}}},[4,(0,g.loadComponentsMetadata)()];case 2:return r=v.apply(void 0,o.concat([(a.metadata=u.sent(),a)])),r=(0,p.removeSectionsWithMissingType)(r),r=(0,p.removeWidgetsWithMissingType)(r),r=(0,p.removePersonalizationOfMissingConditionTypes)(r),[4,(0,g.loadWidgetVariantMarkups)(r)];case 3:return u.sent(),[4,(0,g.loadSectionMarkups)(r)];case 4:return u.sent(),(0,g.addDefaultSections)(r),(0,g.notifyAboutSectionsWithoutZones)(r),r=(0,p.removeExcessZones)(r),(0,g.addMissingZones)(r),[2,r=(0,g.ensureDisplayedWidgetVariants)(r)]}})})},e=h([(0,l.injectable)()],e)}();t.PageConfigurationService=E},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logWarning=t.addEditableAreas=t.parseSectionMarkup=t.notifyAboutSectionsWithoutZones=t.loadSectionMarkups=t.prepareDefaultConfiguration=t.loadAreaConfigurations=t.loadWidgetVariantMarkups=t.loadComponentsMetadata=t.filterPageConfigurations=t.ensureDisplayedWidgetVariants=t.addMissingZones=t.addDefaultSections=void 0;var i=m(n(31)),r=m(n(42)),o=m(n(8)),a=m(n(6)),u=m(n(11)),s=m(n(13)),d=m(n(497)),c=m(n(281)),l=m(n(90)),f=n(59),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(41)),g=n(12),y=n(19),v=n(32),h=n(39),_=n(15);function m(e){return e&&e.__esModule?e:{default:e}}var E=s.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},T=function(e,t,n,i){return new(n||(n=u.default))(function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function u(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,u)}s((i=i.apply(e,t||[])).next())})},b=function(e,t){var n,i,r,u,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return u={next:d(0),throw:d(1),return:d(2)},"function"==typeof a.default&&(u[o.default]=function(){return this}),u;function d(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},I=function(e,t){var n=(0,f.v4)();e.zones[n]={identifier:n,widgets:[]},e.sections[t].zones.push(n)},S=function(e){var t=0;return e=e.replace(/<WidgetZone/g,function(e){return e+' :zoneIndex="'+t+++'"'}),{zoneCount:t,enhancedMarkup:e}},w=function(e,t){var n=(0,g.getService)(_.SERVICE_TYPES.LocalizationService).getLocalization(e,t.join(", "));v.logger.logWarning(n)};t.addDefaultSections=function(e){(0,i.default)(e.editableAreas).forEach(function(t){if(0===e.editableAreas[t].sections.length){var n=e.editableAreasConfiguration[t].defaultSection,i=e.metadata.sections[n].zoneCount,r=(0,f.v4)();e.editableAreas[t].sections.push(r),e.sections[r]={identifier:r,type:n,zones:[]};for(var o=0;o<i;o++)I(e,r)}})},t.addMissingZones=function(e){(0,r.default)(e.sections).forEach(function(t){for(var n=t.zones.length;n<e.metadata.sections[t.type].zoneCount;n++)I(e,t.identifier)})},t.ensureDisplayedWidgetVariants=function(e){return E({},e,{displayedWidgetVariants:(0,c.default)(e.widgets,function(e){return e.variants[0]})})},t.filterPageConfigurations=function(e,t){var n=(0,l.default)(t.editableAreas,e),o=(0,d.default)((0,r.default)(n).map(function(e){return e.sections})),a=(0,l.default)(t.sections,o),u=(0,d.default)((0,r.default)(a).map(function(e){return e.zones})),s=(0,l.default)(t.zones,u),c=(0,d.default)((0,r.default)(s).map(function(e){return e.widgets})),f=(0,l.default)(t.widgets,c),p=(0,d.default)((0,r.default)(f).map(function(e){return e.variants})),g={editableAreas:n,sections:a,zones:s,widgets:f,widgetVariants:(0,l.default)(t.widgetVariants,p)};if((0,i.default)(t.editableAreas).length>(0,i.default)(g.editableAreas).length){var v=(0,r.default)(t.editableAreas).filter(function(t){return!y.arrayHelper.contains(e,t.identifier)}).map(function(e){return e.identifier});w("areas.excessAreas",v),(0,h.postMessage)(_.MessageTypes.CONFIGURATION_CHANGED,null,"*")}return g},t.loadComponentsMetadata=function(){return T(void 0,void 0,void 0,function(){return b(this,function(e){return[2,p.getComponentMetadata()]})})},t.loadWidgetVariantMarkups=function(e){return T(void 0,void 0,void 0,function(){var t,n,i,o;return b(this,function(a){switch(a.label){case 0:return t=(0,r.default)(e.widgets),n=[],t.forEach(function(t){var i=e.metadata.widgets[t.type];t.variants.forEach(function(t){n.push(p.getWidgetMarkup(i.markupUrl,e.widgetVariants[t].properties))})}),[4,u.default.all(n)];case 1:return i=a.sent(),o=0,t.forEach(function(t){t.variants.forEach(function(t){e.markups.variants[t]={markup:i[o],isDirty:!1},++o})}),[2]}})})},t.loadAreaConfigurations=function(){var e={},t=document.querySelectorAll("[data-kentico-editable-area-id]");return Array.prototype.forEach.call(t,function(t){var n=[];t.dataset.kenticoAllowedWidgets&&(n=JSON.parse(t.dataset.kenticoAllowedWidgets));var i={defaultSection:t.dataset.kenticoDefaultSection,widgetRestrictions:n};e[t.dataset.kenticoEditableAreaId]=i}),e},t.prepareDefaultConfiguration=function(){var e=document.querySelectorAll("[data-kentico-editable-area-id]"),t={editableAreas:{},sections:{},zones:{},widgets:{},widgetVariants:{}};return Array.prototype.map.call(e,function(e){return e.dataset.kenticoEditableAreaId}).forEach(function(e){t.editableAreas[e]={identifier:e,sections:[]}}),t},t.loadSectionMarkups=function(e){return T(void 0,void 0,void 0,function(){var t,n,i;return b(this,function(o){switch(o.label){case 0:return t=(0,r.default)(e.metadata.sections),n=t.map(function(e){return p.getComponentMarkup(e.markupUrl)}),[4,u.default.all(n)];case 1:return i=o.sent(),t.forEach(function(t,n){var r=S(i[n]),o=r.enhancedMarkup,a=r.zoneCount;e.markups.sections[t.typeIdentifier]={markup:o},e.metadata.sections[t.typeIdentifier].zoneCount=a}),[2]}})})},t.notifyAboutSectionsWithoutZones=function(e){var t=y.arrayHelper.getUniqueValues((0,r.default)(e.sections).filter(function(t){return 0===e.metadata.sections[t.type].zoneCount}).map(function(e){return e.type}));0!==t.length&&w("section.withoutZones",t)},t.parseSectionMarkup=S,t.addEditableAreas=function(e,t){return E({},t,{editableAreas:E({},e,t.editableAreas)})},t.logWarning=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizationServiceBase=void 0;var i=d(n(10)),r=d(n(4)),o=d(n(1)),a=d(n(5)),u=n(43),s=n(19);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,n,i){var u,s=arguments.length,d=s<3?t:null===i?i=(0,a.default)(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(d=(s<3?u(d):s>3?u(t,n,d):u(t,n))||d);return s>3&&d&&(0,r.default)(t,n,d),d},l=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof i.default)return(0,i.default)(e,t)},f=function(e,t){return function(n,i){t(n,i,e)}},p=function(){function e(e){this.defaultPrefix="kentico.builder",this.specializedPrefix=e}return e.prototype.getLocalization=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getLocalizationWithoutPrefix(this.getResourceStringKey(this.specializedPrefix,e));return void 0===i&&(i=this.getLocalizationWithoutPrefix(this.getResourceStringKey(this.defaultPrefix,e))),void 0===i?e:(t.length>0&&(i=s.stringHelper.format(i,t)),i)},e.prototype.getLocalizationWithoutPrefix=function(e){return window.kentico.localization.strings[e]},e.prototype.getCultureCode=function(){return window.kentico.localization.culture},e.prototype.getResourceStringKey=function(e,t){return e+"."+t},e=c([(0,u.injectable)(),f(0,(0,u.unmanaged)()),l("design:paramtypes",[String])],e)}();t.LocalizationServiceBase=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.metadataSchema=t.areasSchema=void 0;var i=n(505),r=n(506);t.areasSchema=i.areasSchema,t.metadataSchema=r.metadataSchema},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeSectionDragAndDrop=t.initializeDragAndDrop=void 0;var i=n(250),r=n(54),o=n(346),a=n(359),u=n(368),s=function(e){document.addEventListener(r.SECTION_REMOVE_EVENT,function(n){var i=t(n.detail.sectionIdentifier);Array.prototype.forEach.call(i,function(t){e.removeContainer(t)})}),document.addEventListener(r.SECTION_MOUNTED_EVENT,function(n){var i=t(n.detail.sectionIdentifier);Array.prototype.forEach.call(i,function(t){e.addContainer(t)})});var t=function(e){return document.querySelectorAll('div[id="'+e+'"] .ktc-widget-zone')}};t.initializeDragAndDrop=function(e,t,n){var r=document.createElement("draggable"),d=new i.Draggable(r,{classes:{mirror:"ktc-draggable-mirror","source:dragging":"ktc-widget--dragged"},draggable:".ktc-widget",handle:".ktc-widget-header-handle",mirror:{constrainDimensions:!0},plugins:[a.CustomMirrorPlugin]});d.removePlugin(i.Draggable.Plugins.Mirror),s(d);var c=(0,u.makeDragAndDropHandlers)(e,t),l=c.makeOnDragStart,f=c.makeOnDragStop,p=c.onDragOver,g=c.onDragContainerOver,y=c.onDragContainerOut;d.on("drag:start",l(o.startDraggingWidget)).on("drag:stop",f(n)).on("drag:over",p).on("drag:over:container",g).on("drag:out:container",y)},t.initializeSectionDragAndDrop=function(e,t,n){var r=document.querySelectorAll(".ktc-editable-area"),s=new i.Draggable(r,{classes:{mirror:"ktc-draggable-mirror","source:dragging":"ktc-section--dragged"},draggable:".ktc-section",handle:".ktc-section-header-drag-icon",mirror:{constrainDimensions:!0},plugins:[a.CustomMirrorPlugin]});s.removePlugin(i.Draggable.Plugins.Mirror);var d=(0,u.makeDragAndDropHandlers)(e,t),c=d.makeOnDragStart,l=d.makeOnDragStop,f=d.onDragOver,p=d.onDragContainerOver,g=d.onDragContainerOut;s.on("drag:start",c(o.startDraggingSection)).on("drag:stop",l(n)).on("drag:over",f).on("drag:over:container",p).on("drag:out:container",g)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startDraggingSection=t.startDraggingWidget=void 0;var i=n(47),r=n(192),o=n(347);t.startDraggingWidget=function(e,t){return function(n,a){var u=a(),s=u.editableAreasConfiguration,d=u.widgets,c=u.zones,l=d[e].type,f=c[t].widgets.indexOf(e),p=o.dragAndDropHelper.getBannedAreasForWidgets(s,l);n((0,r.startDragging)(i.EntityType.Widget,l,e,t,f,p))}},t.startDraggingSection=function(e,t){return function(n,a){var u=a(),s=u.editableAreas,d=u.editableAreasConfiguration,c=u.sections,l=u.zones,f=u.widgets,p=c[e].type,g=s[t].sections.indexOf(e),y=o.dragAndDropHelper.getBannedAreasForSection(d,c[e],l,f);n((0,r.startDragging)(i.EntityType.Section,p,e,t,g,y))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragAndDropHelper=void 0;var i=d(n(31)),r=d(n(8)),o=d(n(6)),a=n(19),u=n(70),s=n(85);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n="function"==typeof o.default&&e[r.default];if(!n)return e;var i,a,u=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=u.next()).done;)s.push(i.value)}catch(e){a={error:e}}finally{try{i&&!i.done&&(n=u.return)&&n.call(u)}finally{if(a)throw a.error}}return s},l=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e},f=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return(0,i.default)(e).filter(function(n){var i=e[n].widgetRestrictions;return t.some(function(e){return!(0,u.isWidgetAllowed)(i,e)})})};t.dragAndDropHelper={getBannedAreasForSection:function(e,t,n,i){var r=(0,s.getWidgetsInZones)(t.zones,n),o=a.arrayHelper.getUniqueValues(r,function(e){return i[e].type});return f.apply(void 0,l([e],o))},getBannedAreasForWidgets:f}},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomMirrorPlugin=t.defaultOptions=t.onScroll=t.onMirrorMove=t.onMirrorCreated=t.onDragStop=t.onDragStart=void 0;var i=c(n(11)),r=c(n(6)),o=c(n(55)),a=c(n(13)),u=c(n(2)),s=c(n(3)),d=n(250);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){var e=s.default||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?(0,u.default)(n):(i.prototype=n.prototype,new i)}}(),f=a.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},p=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof o.default){var r=0;for(i=(0,o.default)(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]])}return n},g=t.onDragStart=(0,r.default)("onDragStart"),y=t.onDragStop=(0,r.default)("onDragStop"),v=t.onMirrorCreated=(0,r.default)("onMirrorCreated"),h=t.onMirrorMove=(0,r.default)("onMirrorMove"),_=t.onScroll=(0,r.default)("onScroll"),m=t.defaultOptions={constrainDimensions:!1,cursorOffsetX:null,cursorOffsetY:null,xAxis:!0,yAxis:!0},E=function(e){function t(t){var n=e.call(this,t)||this;return n.options=f({},m,n.getOptions()),n.scrollOffset={x:0,y:0},n.initialScrollOffset={x:window.scrollX,y:window.scrollY},n[g]=n[g].bind(n),n[y]=n[y].bind(n),n[v]=n[v].bind(n),n[h]=n[h].bind(n),n[_]=n[_].bind(n),n}return l(t,e),t.prototype.attach=function(){this.draggable.on("drag:start",this[g]).on("drag:stop",this[y]).on("mirror:created",this[v]).on("mirror:move",this[h])},t.prototype.detach=function(){this.draggable.off("drag:start",this[g]).off("drag:stop",this[y]).off("mirror:created",this[v]).off("mirror:move",this[h])},t.prototype.getOptions=function(){return this.draggable.options.mirror||{}},t.prototype[g]=function(){"ontouchstart"in window&&document.addEventListener("scroll",this[_],!0),this.initialScrollOffset={x:window.scrollX,y:window.scrollY}},t.prototype[y]=function(){"ontouchstart"in window&&document.removeEventListener("scroll",this[_],!0),this.initialScrollOffset={x:0,y:0},this.scrollOffset={x:0,y:0}},t.prototype[_]=function(){this.scrollOffset={x:window.scrollX-this.initialScrollOffset.x,y:window.scrollY-this.initialScrollOffset.y}},t.prototype[v]=function(e){var t=this,n=e.mirror,r=e.source,o=e.sensorEvent,a={mirror:n,mirrorClass:this.draggable.getClassNameFor("mirror"),sensorEvent:o,source:r,options:this.options,scrollOffset:this.scrollOffset};return i.default.resolve(a).then(T).then(b).then(I).then(S).then(P({initial:!0})).then(w).then(function(e){var n=e.mirrorOffset,i=e.initialX,r=e.initialY,o=p(e,["mirrorOffset","initialX","initialY"]);return t.mirrorOffset=n,t.initialX=i,t.initialY=r,f({mirrorOffset:n,initialX:i,initialY:r},o)})},t.prototype[h]=function(e){var t={mirror:e.mirror,sensorEvent:e.sensorEvent,initialX:this.initialX,initialY:this.initialY,mirrorOffset:this.mirrorOffset,options:this.options,scrollOffset:this.scrollOffset};return i.default.resolve(t).then(P({withFrame:!0}))},t}(d.BasePlugin);function T(e){var t=e.source,n=p(e,["source"]);return O(function(e){var i=t.getBoundingClientRect();e(f({source:t,sourceRect:i},n))})}function b(e){var t=e.sensorEvent,n=e.sourceRect,i=e.options,r=p(e,["sensorEvent","sourceRect","options"]);return O(function(e){var o=null===i.cursorOffsetY?.5*(t.clientY-n.top):i.cursorOffsetY,a=null===i.cursorOffsetX?.5*(t.clientX-n.left):i.cursorOffsetX;e(f({sensorEvent:t,sourceRect:n,mirrorOffset:{top:o,left:a},options:i},r))})}function I(e){var t=e.mirror,n=e.source,i=e.options,r=p(e,["mirror","source","options"]);return O(function(e){var o,a;if(i.constrainDimensions){var u=getComputedStyle(n);o=u.getPropertyValue("height"),a=u.getPropertyValue("width")}t.style.position="fixed",t.style.pointerEvents="none",t.style.top=0,t.style.left=0,t.style.margin=0,t.style.transformOrigin="0 0",t.style.opacity="0.7",t.style.backgroundColor=function(e){if(!e)return;var t=e,n="white";for(;t;){var i=getComputedStyle(t).getPropertyValue("background-color");if("rgba(0, 0, 0, 0)"!==i&&"transparent"!==i){n=i;break}t=t.parentElement}return n}(t),i.constrainDimensions&&(t.style.height=o,t.style.width=a),e(f({mirror:t,source:n,options:i},r))})}function S(e){var t=e.mirror,n=e.mirrorClass,i=p(e,["mirror","mirrorClass"]);return O(function(e){t.classList.add(n),e(f({mirror:t,mirrorClass:n},i))})}function w(e){var t=e.mirror,n=p(e,["mirror"]);return O(function(e){t.removeAttribute("id"),delete t.id,e(f({mirror:t},n))})}function P(e){var t=void 0===e?{}:e,n=t.withFrame,i=void 0!==n&&n,r=t.initial,o=void 0!==r&&r;return function(e){var t=e.mirror,n=e.sensorEvent,r=e.mirrorOffset,a=e.initialY,u=e.initialX,s=e.scrollOffset,d=e.options,c=p(e,["mirror","sensorEvent","mirrorOffset","initialY","initialX","scrollOffset","options"]);return O(function(e){var i=f({initialX:u,initialY:a,mirror:t,mirrorOffset:r,options:d,sensorEvent:n},c);if(r){var l=n.clientX-r.left-s.x,p=n.clientY-r.top-s.y;d.xAxis&&d.yAxis||o?t.style.transform="translate3d("+l+"px, "+p+"px, 0) scale(0.5)":d.xAxis&&!d.yAxis?t.style.transform="translate3d("+l+"px, "+a+"px, 0)":d.yAxis&&!d.xAxis&&(t.style.transform="translate3d("+u+"px, "+p+"px, 0)"),o&&(i.initialX=l,i.initialY=p)}e(i)},{raf:i})}}function O(e,t){var n=(void 0===t?{}:t).raf,r=void 0!==n&&n;return new i.default(function(t,n){r?requestAnimationFrame(function(){e(t,n)}):e(t,n)})}t.CustomMirrorPlugin=E},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeDragAndDropHandlers=void 0;var i,r=n(54),o=n(72),a=n(39),u=n(40),s=n(15),d=function(){document.body.style.cursor="move",document.body.style.cursor="grabbing",document.body.style.cursor="-moz-grabbing",document.body.style.cursor="-webkit-grabbing"},c=function(e,t){return function(n){27===n.which&&e().dragAndDrop.itemIdentifier&&f(t)}},l=function(e,t){return function(n){n.data.msg===s.MessageTypes.MESSAGING_DRAG_STOP&&e().dragAndDrop.itemIdentifier&&f(t)}},f=function(e){e((0,u.endDragging)());var t=document.createEvent("MouseEvents");t.initEvent("mouseup",!0,!0),document.dispatchEvent(t)};t.makeDragAndDropHandlers=function(e,t){return{makeOnDragStart:function(n){return function(i){e(n(i.source.id,i.sourceContainer.id)),d(),document.addEventListener("keyup",c(t,e)),window.addEventListener("message",l(t,e));var r=document.getElementById(i.source.id);(0,o.invokeInlineEditorsDragStart)(r),(0,a.postMessage)(s.MessageTypes.MESSAGING_DRAG_START,null,"*")}},makeOnDragStop:function(n){return function(){document.body.style.cursor="auto",i&&clearTimeout(i),document.removeEventListener("keyup",c(t,e)),window.removeEventListener("message",l(t,e)),(0,a.postMessage)(s.MessageTypes.MESSAGING_DRAG_STOP,null,"*");var r=t().dragAndDrop;if(r.itemIdentifier){var d=document.getElementById(r.itemIdentifier);if((0,o.invokeInlineEditorsDrop)(d),null!==r.dropMarkerPosition&&r.targetContainerIdentifier){var f=r.sourceContainerIdentifier===r.targetContainerIdentifier&&r.originalPosition<=r.dropMarkerPosition?r.dropMarkerPosition-1:r.dropMarkerPosition;e(n(r.itemIdentifier,r.sourceContainerIdentifier,r.targetContainerIdentifier,f))}e((0,u.endDragging)())}}},onDragOver:function(n){var r=t();n.source.id===n.over.id&&null!==r.dragAndDrop.dropMarkerPosition&&e((0,u.hideDropMarker)()),n.over.id!==r.dragAndDrop.itemIdentifier&&i&&clearTimeout(i)},onDragContainerOver:function(e){var n=t(),r=e.overContainer.id,o=n.dragAndDrop.sourceContainerIdentifier;i&&r!==o&&clearTimeout(i)},onDragContainerOut:function(n){n.overContainer.id===t().dragAndDrop.targetContainerIdentifier&&(i=setTimeout(function(){return e((0,u.hideDropMarker)())},r.HIDE_ELEMENT_TIMEOUT))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dehighlightSectionBorder=t.highlightSectionBorder=t.showSectionHeader=t.hideSectionHeader=void 0;var i=n(7);t.hideSectionHeader=function(){return{type:i.TypeKeys.HIDE_SECTION_HEADER}},t.showSectionHeader=function(e,t){return{type:i.TypeKeys.SHOW_SECTION_HEADER,sectionIdentifier:e,headerPosition:t}},t.highlightSectionBorder=function(e){return void 0===e&&(e=null),{type:i.TypeKeys.HIGHLIGHT_SECTION_BORDER,sectionIdentifier:e}},t.dehighlightSectionBorder=function(){return{type:i.TypeKeys.DEHIGHLIGHT_SECTION_BORDER}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.highlightWidget=t.dehighlightWidget=void 0;var i=n(7);t.dehighlightWidget=function(){return{type:i.TypeKeys.DEHIGHLIGHT_WIDGET}},t.highlightWidget=function(e){return{type:i.TypeKeys.HIGHLIGHT_WIDGET,widgetIdentifier:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerListener=void 0;var i=g(n(68)),r=g(n(8)),o=g(n(6)),a=g(n(11)),u=n(41),s=n(12),d=n(19),c=n(32),l=n(39),f=n(87),p=n(15);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e,t,n,i){return new(n||(n=a.default))(function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function u(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,u)}s((i=i.apply(e,t||[])).next())})},v=function(e,t){var n,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:d(0),throw:d(1),return:d(2)},"function"==typeof o.default&&(u[r.default]=function(){return this}),u;function d(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){s.label=r[1];break}if(6===r[0]&&s.label<a[1]){s.label=a[1],a=r;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(r);break}a[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},h=function(e,t,n){return function(r){return y(void 0,void 0,void 0,function(){var o,a,g;return v(this,function(y){switch(y.label){case 0:if(!r.data)return[2];if(!r.data.hasOwnProperty("msg"))return[2];if(!r.data.msg.startsWith("Kentico."))return[2];if(!d.arrayHelper.contains(n,r.origin.toLowerCase()))return o=(0,s.getService)(p.SERVICE_TYPES.LocalizationService).getLocalization("messaging.forbiddenorigin"),o=d.stringHelper.format(o,r.origin),c.logger.logError(o),[2];if(r.data.msg!==p.MessageTypes.SAVE_CONFIGURATION)return[3,5];y.label=1;case 1:return y.trys.push([1,4,,5]),r.data.contentModified?[4,(0,u.saveState)(e(),r.data.guid)]:[3,3];case 2:y.sent(),y.label=3;case 3:return(0,l.postMessage)(p.MessageTypes.CONFIGURATION_STORED,(0,i.default)(e().displayedWidgetVariants),r.origin),[3,5];case 4:return a=y.sent(),c.logger.logException(a),[3,5];case 5:return r.data.msg===p.MessageTypes.LOAD_DISPLAYED_WIDGET_VARIANTS&&(g=JSON.parse(r.data.data)||{},t((0,f.restoreDisplayedWidgetVariants)(g))),[2]}})})}};t.registerListener=function(e,t,n){window.addEventListener("message",h(e,t,n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.metadata=t.configuration=void 0;var i=o(n(373)),r=o(n(374));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.configuration=i,t.metadata=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.save=t.load=void 0;var i=n(27);t.load=function(){return i.http.get(i.builderConfig.configurationEndpoints.load)},t.save=function(e,t){var n,r=((n={})[i.builderConfig.constants.editingInstanceHeader]=t,n);return i.http.post(i.builderConfig.configurationEndpoints.store,e,{headers:r})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=void 0;var i=n(27);t.get=function(){return i.http.get(""+i.builderConfig.metadataEndpoint)}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.displayedWidgetVariants=void 0;var i=a(n(13)),r=a(n(57)),o=n(7);function a(e){return e&&e.__esModule?e:{default:e}}var u=i.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s={},d=function(e,t,n){var i;return u({},e,((i={})[t]=n,i))};t.displayedWidgetVariants=function(e,t){switch(void 0===e&&(e=s),t.type){case o.TypeKeys.ADD_WIDGET:return d(e,t.widget.identifier,t.variant.identifier);case o.TypeKeys.REMOVE_WIDGET:return(0,r.default)(e,t.widget.identifier);case o.TypeKeys.ADD_WIDGET_VARIANT:return d(e,t.widgetIdentifier,t.variant.identifier);case o.TypeKeys.SELECT_WIDGET_VARIANT:return d(e,t.widgetIdentifier,t.variantIdentifier);case o.TypeKeys.CHANGE_SECTION:case o.TypeKeys.REMOVE_SECTION:return(0,r.default)(e,t.widgetsToRemove.map(function(e){return e.identifier}));case o.TypeKeys.RESTORE_DISPLAYED_WIDGET_VARIANTS:return u({},e,t.savedWidgetVariants);default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragAndDrop=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(13)),r=n(7);var o=i.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a={entity:null,typeIdentifier:null,itemIdentifier:null,originalPosition:null,sourceContainerIdentifier:null,targetContainerIdentifier:null,dropMarkerPosition:null,bannedContainers:[]};t.dragAndDrop=function(e,t){switch(void 0===e&&(e=a),t.type){case r.TypeKeys.START_DRAGGING:return o({},e,{entity:t.entity,typeIdentifier:t.typeIdentifier,itemIdentifier:t.itemIdentifier,originalPosition:t.originalPosition,sourceContainerIdentifier:t.sourceContainerIdentifier,bannedContainers:t.bannedContainers});case r.TypeKeys.END_DRAGGING:return o({},a);case r.TypeKeys.SHOW_DROP_MARKER:return o({},e,{targetContainerIdentifier:t.containerIdentifier,dropMarkerPosition:t.dropMarkerPosition});case r.TypeKeys.HIDE_DROP_MARKER:return o({},e,{targetContainerIdentifier:null,dropMarkerPosition:null});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editableAreas=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(13)),r=n(19),o=n(7);var a=i.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u={};t.editableAreas=function(e,t){var n,i;switch(void 0===e&&(e=u),t.type){case o.TypeKeys.ADD_SECTION:return a({},e,((n={})[t.areaIdentifier]=a({},e[t.areaIdentifier],{sections:r.arrayHelper.insertItemIntoArray(e[t.areaIdentifier].sections,t.section.identifier,t.position)}),n));case o.TypeKeys.REMOVE_SECTION:return a({},e,((i={})[t.areaIdentifier]=a({},e[t.areaIdentifier],{sections:e[t.areaIdentifier].sections.filter(function(e){return e!==t.section.identifier})}),i));case o.TypeKeys.MOVE_SECTION:var s=t.sectionIdentifier,d=t.originalAreaIdentifier,c=t.targetAreaIdentifier,l=t.position,f=void 0,p=a({},e);return d===c?f=r.arrayHelper.moveItemBetweenArrays(e[d].sections,s,l):(f=r.arrayHelper.moveItemBetweenArrays(e[d].sections,s,l,e[c].sections),p[c]=a({},e[c],{sections:f.destinationArray})),p[d]=a({},e[d],{sections:f.sourceArray}),p;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_STATE=t.highlightedSection=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(13)),r=n(7);var o=i.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a={sectionIdentifier:null,headerPosition:null,highlightBorder:!1};t.highlightedSection=function(e,t){switch(void 0===e&&(e=a),t.type){case r.TypeKeys.SHOW_SECTION_HEADER:return o({},a,{sectionIdentifier:t.sectionIdentifier,headerPosition:t.headerPosition});case r.TypeKeys.HIDE_SECTION_HEADER:case r.TypeKeys.CHANGE_SECTION:case r.TypeKeys.START_DRAGGING:return o({},a);case r.TypeKeys.HIGHLIGHT_SECTION_BORDER:return o({},e,{sectionIdentifier:t.sectionIdentifier||e.sectionIdentifier,highlightBorder:!0});case r.TypeKeys.DEHIGHLIGHT_SECTION_BORDER:return o({},e,{highlightBorder:!1});case r.TypeKeys.OPEN_POP_UP:return t.popupType===r.PopupType.ChangeSection?e:o({},a);default:return e}},t.INIT_STATE=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.highlightedWidget=void 0;var i=n(7);t.highlightedWidget=function(e,t){switch(void 0===e&&(e=null),t.type){case i.TypeKeys.HIGHLIGHT_WIDGET:return t.widgetIdentifier;case i.TypeKeys.DEHIGHLIGHT_WIDGET:case i.TypeKeys.OPEN_POP_UP:case i.TypeKeys.SELECT_WIDGET:case i.TypeKeys.START_DRAGGING:case i.TypeKeys.END_DRAGGING:return null;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.markups=void 0;var i=l(n(31)),r=l(n(1)),o=l(n(55)),a=l(n(13)),u=l(n(71)),s=l(n(57)),d=n(48),c=n(7);function l(e){return e&&e.__esModule?e:{default:e}}var f=a.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},p=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof o.default){var r=0;for(i=(0,o.default)(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]])}return n},g={},y=function(e,t){switch(t.type){case c.TypeKeys.ADD_WIDGET:case c.TypeKeys.ADD_WIDGET_VARIANT:return{markup:t.markup,isDirty:!1};case c.TypeKeys.UPDATE_WIDGET_VARIANT:return f({},e,{markup:t.markup?t.markup:e.markup,isDirty:!t.markup});default:return e}},v=function(e){return(0,i.default)(e).reduce(function(t,n){return t[n]={isDirty:!1,markup:e[n]},t},{})},h=(0,d.combineReducers)({variants:function(e,t){var n,i;switch(void 0===e&&(e=g),t.type){case c.TypeKeys.ADD_WIDGET:case c.TypeKeys.ADD_WIDGET_VARIANT:return f({},e,((n={})[t.variant.identifier]=y(void 0,t),n));case c.TypeKeys.REMOVE_WIDGET_VARIANT:var o=t.variantIdentifier;return e[o],p(e,["symbol"===(void 0===o?"undefined":(0,r.default)(o))?o:o+""]);case c.TypeKeys.CHANGE_SECTION:case c.TypeKeys.REMOVE_SECTION:return(0,s.default)(e,(0,u.default)(t.widgetsToRemove,function(e){return e.variants}));case c.TypeKeys.REMOVE_WIDGET:return(0,s.default)(e,t.widget.variants);case c.TypeKeys.UPDATE_WIDGET_VARIANT:return f({},e,((i={})[t.variantIdentifier]=y(e[t.variantIdentifier],t),i));case c.TypeKeys.UPDATE_WIDGET_VARIANT_MARKUPS:return f({},e,v(t.markups));default:return e}},sections:function(e){return void 0===e&&(e=g),e}});t.markups=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.popup=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(13)),r=n(7);var o=i.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a={componentIdentifier:null,position:null,popupType:null};t.popup=function(e,t){switch(void 0===e&&(e=a),t.type){case r.TypeKeys.OPEN_POP_UP:return o({},e,{componentIdentifier:t.componentIdentifier,position:t.position,popupType:t.popupType});case r.TypeKeys.SET_POP_UP_POSITION:return o({},e,{position:t.position});case r.TypeKeys.START_DRAGGING:case r.TypeKeys.CLOSE_POP_UP:case r.TypeKeys.CHANGE_SECTION:case r.TypeKeys.ADD_WIDGET:case r.TypeKeys.SELECT_WIDGET_VARIANT:case r.TypeKeys.ADD_WIDGET_VARIANT:case r.TypeKeys.UPDATE_WIDGET_VARIANT:case r.TypeKeys.UPDATE_WIDGET_CONDITION_TYPE_PARAMETERS:case r.TypeKeys.REMOVE_WIDGET:return o({},a);case r.TypeKeys.ADD_SECTION:return o({},e,{componentIdentifier:null,position:null});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sections=void 0;var i=u(n(1)),r=u(n(55)),o=u(n(13)),a=n(7);function u(e){return e&&e.__esModule?e:{default:e}}var s=o.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},d=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof r.default){var o=0;for(i=(0,r.default)(e);o<i.length;o++)t.indexOf(i[o])<0&&(n[i[o]]=e[i[o]])}return n},c={},l=function(e,t){var n=t;e[n];return d(e,["symbol"===(void 0===n?"undefined":(0,i.default)(n))?n:n+""])};t.sections=function(e,t){var n,i;switch(void 0===e&&(e=c),t.type){case a.TypeKeys.ADD_SECTION:return s({},e,((n={})[t.section.identifier]=t.section,n));case a.TypeKeys.REMOVE_SECTION:return l(e,t.section.identifier);case a.TypeKeys.CHANGE_SECTION:return s({},e,((i={})[t.oldSection.identifier]={identifier:t.oldSection.identifier,type:t.newSection.type,zones:t.newSection.zones},i));default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.widgetSelection=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(13)),r=n(47),o=n(7);var a=i.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u={identifier:null,freezeSelection:!1};t.widgetSelection=function(e,t){switch(void 0===e&&(e=u),t.type){case o.TypeKeys.SELECT_WIDGET:return a({},e,{identifier:t.widgetIdentifier});case o.TypeKeys.START_DRAGGING:return t.entity!==r.EntityType.Widget?a({},u):a({},e,{identifier:t.itemIdentifier});case o.TypeKeys.UNSELECT_WIDGET:case o.TypeKeys.REMOVE_WIDGET:return a({},u);case o.TypeKeys.OPEN_POP_UP:return[o.PopupType.Personalization,o.PopupType.PropertiesDialog].indexOf(t.popupType)>-1?e:a({},u);case o.TypeKeys.ADD_WIDGET:return a({},e,{identifier:t.widget.identifier});case o.TypeKeys.FREEZE_WIDGET_SELECTION:return a({},e,{freezeSelection:!0});case o.TypeKeys.THAW_WIDGET_SELECTION:return a({},e,{freezeSelection:!1});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.widgetVariants=void 0;var i=d(n(1)),r=d(n(55)),o=d(n(13)),a=d(n(71)),u=d(n(57)),s=n(7);function d(e){return e&&e.__esModule?e:{default:e}}var c=o.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof r.default){var o=0;for(i=(0,r.default)(e);o<i.length;o++)t.indexOf(i[o])<0&&(n[i[o]]=e[i[o]])}return n},f={};t.widgetVariants=function(e,t){var n,r,o;switch(void 0===e&&(e=f),t.type){case s.TypeKeys.ADD_WIDGET:case s.TypeKeys.ADD_WIDGET_VARIANT:return c({},e,((n={})[t.variant.identifier]=t.variant,n));case s.TypeKeys.REMOVE_WIDGET_VARIANT:var d=t.variantIdentifier;e[d];return l(e,["symbol"===(void 0===d?"undefined":(0,i.default)(d))?d:d+""]);case s.TypeKeys.REMOVE_WIDGET:return(0,u.default)(e,t.widget.variants);case s.TypeKeys.UPDATE_WIDGET_VARIANT:var p=e[t.variantIdentifier];return c({},e,((r={})[t.variantIdentifier]=c({},p,{properties:t.properties}),r));case s.TypeKeys.UPDATE_WIDGET_CONDITION_TYPE_PARAMETERS:p=e[t.variantIdentifier];return c({},e,((o={})[t.variantIdentifier]=c({},p,{name:t.name,conditionTypeParameters:t.conditionTypeParameters}),o));case s.TypeKeys.CHANGE_SECTION:case s.TypeKeys.REMOVE_SECTION:var g=(0,a.default)(t.widgetsToRemove,function(e){return e.variants});return(0,u.default)(e,g);default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zones=void 0;var i=s(n(13)),r=s(n(57)),o=n(19),a=n(85),u=n(7);function s(e){return e&&e.__esModule?e:{default:e}}var d=i.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c={},l=function(e,t){switch(t.type){case u.TypeKeys.ADD_WIDGET:return d({},e,{widgets:o.arrayHelper.insertItemIntoArray(e.widgets,t.widget.identifier,t.position)});case u.TypeKeys.REMOVE_WIDGET:return d({},e,{widgets:e.widgets.filter(function(e){return e!==t.widget.identifier})});default:return e}},f=function(e){return e.reduce(function(e,t){return e[t]={identifier:t,widgets:[]},e},{})},p=function(e,t){var n,i=t.originalZoneIdentifier,r=t.position,a=t.targetZoneIdentifier,u=t.widgetIdentifier,s=d({},e);return i===a?n=o.arrayHelper.moveItemBetweenArrays(e[i].widgets,u,r):(n=o.arrayHelper.moveItemBetweenArrays(e[i].widgets,u,r,e[a].widgets),s[a]=d({},e[a],{widgets:n.destinationArray})),s[i]=d({},e[i],{widgets:n.sourceArray}),s};t.zones=function(e,t){var n;switch(void 0===e&&(e=c),t.type){case u.TypeKeys.ADD_SECTION:return d({},e,f(t.section.zones));case u.TypeKeys.REMOVE_SECTION:return(0,r.default)(e,t.section.zones);case u.TypeKeys.CHANGE_SECTION:var i=t.widgetsToRemove.length?f(t.newSection.zones):(0,a.mapZoneWidgets)(t.oldSection.zones,t.newSection.zones,e);return d({},(0,r.default)(e,t.oldSection.zones),i);case u.TypeKeys.ADD_WIDGET:case u.TypeKeys.REMOVE_WIDGET:var o=t.zoneIdentifier;return d({},e,((n={})[o]=l(e[o],t),n));case u.TypeKeys.MOVE_WIDGET:return p(e,t);default:return e}}},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSectionWidgetVariantsWithDirtyMarkup=void 0;var i=f(n(401)),r=f(n(8)),o=f(n(6)),a=f(n(11)),u=f(n(13)),s=f(n(71)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(41)),c=n(195),l=n(85);function f(e){return e&&e.__esModule?e:{default:e}}var p=u.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},g=function(e,t,n,i){return new(n||(n=a.default))(function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function u(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,u)}s((i=i.apply(e,t||[])).next())})},y=function(e,t){var n,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:d(0),throw:d(1),return:d(2)},"function"==typeof o.default&&(u[r.default]=function(){return this}),u;function d(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){s.label=r[1];break}if(6===r[0]&&s.label<a[1]){s.label=a[1],a=r;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(r);break}a[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},v=function(e,t){var n="function"==typeof o.default&&e[r.default];if(!n)return e;var i,a,u=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=u.next()).done;)s.push(i.value)}catch(e){a={error:e}}finally{try{i&&!i.done&&(n=u.return)&&n.call(u)}finally{if(a)throw a.error}}return s},h=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e},_=function(e,t){var n=function(e){return t.markups.variants[e].isDirty},r=e.reduce(function(e,i){var r,o,a=t.widgets[i].type,u=t.widgets[i].variants.filter(n);return 0===u.length?e:void 0===e[a]?p({},e,((r={})[a]=u,r)):p({},e,((o={})[a]=h(e[a],u),o))},{});return(0,i.default)(r)},m=function(e,t,n){return g(void 0,void 0,void 0,function(){var i,r,o,u;return y(this,function(d){switch(d.label){case 0:return i=E(e,t),[4,a.default.all(i)];case 1:return r=d.sent(),o=(0,s.default)(e,function(e){var t=v(e,2);t[0];return t[1]}),u=o.reduce(function(e,t,n){return e[t]=r[n],e},{}),n((0,c.updateWidgetVariantMarkups)(u)),[2]}})})},E=function(e,t){return(0,s.default)(e,function(e){var n=v(e,2),i=n[0],r=n[1],o=t.metadata.widgets[i].markupUrl;return r.map(function(e){var n=t.widgetVariants[e].properties;return d.getWidgetMarkup(o,n)})})};t.updateSectionWidgetVariantsWithDirtyMarkup=function(e,t,n){return g(void 0,void 0,void 0,function(){var i,r;return y(this,function(o){switch(o.label){case 0:return i=(0,l.getWidgetsInZones)(t.sections[e].zones,t.zones),0===(r=_(i,t)).length?[2]:[4,m(r,t,n)];case 1:return o.sent(),[2]}})})}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeSection=t.moveSection=t.removeSection=t.addSection=void 0;var i=n(7);t.addSection=function(e,t,n){return{type:i.TypeKeys.ADD_SECTION,section:e,areaIdentifier:t,position:n}},t.removeSection=function(e,t,n){return{type:i.TypeKeys.REMOVE_SECTION,section:e,areaIdentifier:t,widgetsToRemove:n}},t.moveSection=function(e,t,n,r){return{type:i.TypeKeys.MOVE_SECTION,sectionIdentifier:e,originalAreaIdentifier:t,targetAreaIdentifier:n,position:r}},t.changeSection=function(e,t,n){return void 0===n&&(n=[]),{type:i.TypeKeys.CHANGE_SECTION,oldSection:e,newSection:t,widgetsToRemove:n}}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shallowEqual=t.normalizeSlots=t.normalizeProps=void 0;var i=o(n(31)),r=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(13)).default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u=Object.prototype.hasOwnProperty,s=function(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t};t.normalizeProps=function(e){return Array.isArray(e)?e.reduce(function(e,t){var n;return a({},e,((n={})[t]={type:null},n))},{}):e},t.normalizeSlots=function(e){return(0,i.default)(e).reduce(function(t,n){return t.concat(e[n])},[])},t.shallowEqual=function(e,t){if(s(e,t))return!0;if("object"!==(void 0===e?"undefined":(0,r.default)(e))||null===e||"object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return!1;var n=(0,i.default)(e),o=(0,i.default)(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!u.call(t,n[a])||!s(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";var i=n(102);n.n(i).a},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(42)),r=n(16),o=n(92),a=n(40),u=s(n(424));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.connect)(function(e,t){var n=t.sectionIdentifier,r=e.sections,a=e.markups,u=e.metadata,s=e.popup,d=e.highlightedSection,c=e.dragAndDrop,l=r[n]?r[n].type:"";return{sectionType:l,sectionMarkup:a.sections[l]?a.sections[l].markup:"",sectionTypes:(0,o.getPopupElements)((0,i.default)(u.sections)),popup:s,highlightedSection:d,dragAndDrop:c}},function(){return{showSectionHeader:a.showSectionHeader,hideSectionHeader:a.hideSectionHeader,highlightSectionBorder:a.highlightSectionBorder,dehighlightSectionBorder:a.dehighlightSectionBorder,closePopup:a.closePopup}})(u.default)},function(e,t,n){"use strict";n.r(t);var i=n(216),r=n(103);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);n(435);var a=n(0),u=Object(a.a)(r.default,i.a,i.b,!1,null,"0810e56e",null);t.default=u.exports},function(e,t,n){"use strict";n.r(t);var i=n(223),r=n(105);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);n(426);var a=n(0),u=Object(a.a)(r.default,i.a,i.b,!1,null,"67a7ba2c",null);t.default=u.exports},function(e,t,n){"use strict";var i=n(107);n.n(i).a},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),r=n(73),o=function(e){return e&&e.__esModule?e:{default:e}}(n(429)),a=n(7);t.default=(0,i.connect)(function(e,t){var n=e.popup;return{isSectionListOpen:n.componentIdentifier===t.sectionIdentifier&&n.popupType===a.PopupType.AddSection,popupContainerPosition:n.position}},function(){return{closePopup:r.closePopup,openPopup:r.openPopup}})(o.default)},function(e,t,n){"use strict";n.r(t);var i=n(224),r=n(108);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(0),u=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);t.default=u.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),r=n(73),o=function(e){return e&&e.__esModule?e:{default:e}}(n(431)),a=n(7);t.default=(0,i.connect)(function(e,t){var n=e.highlightedSection,i=e.popup,r=t.sectionIdentifier;return{sectionHeaderPosition:n.sectionIdentifier===r?n.headerPosition:null,isSectionTypeListOpen:i.componentIdentifier!==r||i.popupType!==a.PopupType.ChangeSection}},function(){return{openPopup:r.openPopup,closePopup:r.closePopup}})(o.default)},function(e,t,n){"use strict";n.r(t);var i=n(225),r=n(110);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);n(433);var a=n(0),u=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);t.default=u.exports},,function(e,t,n){"use strict";var i=n(112);n.n(i).a},,function(e,t,n){"use strict";var i=n(113);n.n(i).a},,function(e,t,n){"use strict";var i=n(114);n.n(i).a},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectWidgetVariant=void 0;var i=d(n(8)),r=d(n(6)),o=d(n(11)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(41)),u=n(87),s=n(195);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,n,i){return new(n||(n=o.default))(function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function u(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,u)}s((i=i.apply(e,t||[])).next())})},l=function(e,t){var n,o,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:d(0),throw:d(1),return:d(2)},"function"==typeof r.default&&(u[i.default]=function(){return this}),u;function d(i){return function(r){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}};t.selectWidgetVariant=function(e,t,n){return function(i,r){return c(void 0,void 0,void 0,function(){var o,d,c,f,p,g,y,v;return l(this,function(l){switch(l.label){case 0:return d=r(),c=d.markups,f=d.widgets,p=d.metadata,g=d.widgetVariants,c.variants[t].isDirty?(y=f[e].type,[4,a.getWidgetMarkup(p.widgets[y].markupUrl,g[t].properties)]):[3,2];case 1:v=l.sent(),i((0,s.updateWidgetVariantMarkups)(((o={})[t]=v,o))),l.label=2;case 2:return i((0,u.selectWidgetVariant)(n,e)),[2]}})})}}},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),r=n(40),o=n(271),a=function(e){return e&&e.__esModule?e:{default:e}}(n(456));t.default=(0,i.connect)(function(e,t){var n=t.widgetIdentifier,i=e.dragAndDrop,r=e.widgetSelection,o=e.highlightedWidget,a=e.popup,u=e.metadata,s=e.widgetVariants,d=e.markups,c=e.displayedWidgetVariants,l=e.widgets[n],f=c[n];return{dragAndDrop:i,selectedWidgetIdentifier:r.identifier,highlightedWidgetIdentifier:o,popup:a,widget:l,displayedVariant:s[f],displayedVariantMarkup:f?d.variants[f].markup:"",widgetTitle:l?u.widgets[l.type].name:"",isFrozen:r.freezeSelection}},function(){return{highlightWidget:r.highlightWidget,dehighlightWidget:r.dehighlightWidget,selectWidget:r.selectWidget,unselectWidget:r.unselectWidget,closePopup:r.closePopup,openPopup:r.openPopup,setWidgetProperty:o.setWidgetProperty}})(a.default)},function(e,t,n){"use strict";n.r(t);var i=n(226),r=n(131);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);n(459),n(461);var a=n(0),u=Object(a.a)(r.default,i.a,i.b,!1,null,"f2c58b3a",null);t.default=u.exports},function(e,t,n){"use strict";n.r(t);var i=n(230),r=n(133);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(0),u=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);t.default=u.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeScriptElements=t.renderMarkup=void 0;var i=n(32);t.renderMarkup=function(e,t,n){t.innerHTML=e;var r=t.querySelectorAll("script");Array.prototype.forEach.call(r,function(e){var t=e.parentNode,r=document.createElement("script");try{e.src?(r.classList.add("ktc-tmp-element"),r.classList.add(n),r.src=e.src,r.type=e.type,document.head.appendChild(r)):(r.innerHTML=e.innerHTML,t.replaceChild(r,e)),e.remove()}catch(e){i.logger.logException(e)}})},t.removeScriptElements=function(e){var t=document.head.querySelectorAll("."+e);Array.prototype.forEach.call(t,function(e){e.remove()})}},function(e,t,n){"use strict";var i=n(135);n.n(i).a},,function(e,t,n){"use strict";var i=n(136);n.n(i).a},,function(e,t,n){"use strict";var i=n(137);n.n(i).a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeExcessZones=t.removePersonalizationOfMissingConditionTypes=t.removeWidgetsWithMissingType=t.removeSectionsWithMissingType=void 0;var i=v(n(251)),r=v(n(42)),o=v(n(8)),a=v(n(6)),u=v(n(13)),s=v(n(71)),d=v(n(281)),c=v(n(57)),l=v(n(90)),f=n(19),p=n(282),g=n(39),y=n(15);function v(e){return e&&e.__esModule?e:{default:e}}var h=u.default||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},_=function(e,t){var n="function"==typeof a.default&&e[o.default];if(!n)return e;var i,r,u=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=u.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return s},m=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_(arguments[t]));return e},E=function(e,t){var n=t.map(function(e){return e.identifier});return e=h({},e,{editableAreas:D(e.editableAreas,"sections",n),sections:(0,c.default)(e.sections,n)}),T(e,t)},T=function(e,t){var n=(0,s.default)(t,function(e){return e.zones}),i=(0,r.default)((0,l.default)(e.zones,n));return b(e,i)},b=function(e,t){var n=t.map(function(e){return e.identifier});return e=h({},e,{sections:D(e.sections,"zones",n),zones:(0,c.default)(e.zones,n)}),I(e,t)},I=function(e,t){var n=(0,s.default)(t,function(e){return e.widgets}),i=(0,r.default)((0,l.default)(e.widgets,n));return S(e,i)},S=function(e,t){var n=t.map(function(e){return e.identifier});return e=h({},e,{zones:D(e.zones,"widgets",n),widgets:(0,c.default)(e.widgets,n)}),w(e,t)},w=function(e,t){var n=(0,s.default)(t,function(e){return e.variants}),i=(0,r.default)((0,l.default)(e.widgetVariants,n));return P(e,i)},P=function(e,t){var n=t.map(function(e){return e.identifier});return h({},e,{widgets:D(e.widgets,"variants",n),widgetVariants:(0,c.default)(e.widgetVariants,n)})},O=function(e,t){var n=(0,r.default)(e.widgets).filter(function(e){return f.arrayHelper.contains(t,e.conditionType)}),i=(0,s.default)(n,function(e){return e.variants.slice(1)}),o=(0,r.default)((0,l.default)(e.widgetVariants,i));return e=h({},e,{widgets:(0,d.default)(e.widgets,function(e){return f.arrayHelper.contains(t,e.conditionType)?(0,c.default)(e,"conditionType"):e})}),P(e,o)},D=function(e,t,n){return(0,d.default)(e,function(e){var i;return h({},e,((i={})[t]=e[t].filter(function(e){return!f.arrayHelper.contains(n,e)}),i))})};t.removeSectionsWithMissingType=function(e){var t=(0,r.default)(e.sections).filter(function(t){return!e.metadata.sections[t.type]});return 0!==t.length?((0,p.logWarning)("section.missingmetadata",f.arrayHelper.getUniqueValues(t.map(function(e){return e.type}))),(0,g.postMessage)(y.MessageTypes.CONFIGURATION_CHANGED,null,"*"),E(e,t)):e},t.removeWidgetsWithMissingType=function(e){var t=(0,r.default)(e.widgets).filter(function(t){return!e.metadata.widgets[t.type]});return 0!==t.length?((0,p.logWarning)("widget.missingmetadata",f.arrayHelper.getUniqueValues(t.map(function(e){return e.type}))),(0,g.postMessage)(y.MessageTypes.CONFIGURATION_CHANGED,null,"*"),S(e,t)):e},t.removePersonalizationOfMissingConditionTypes=function(e){var t=f.arrayHelper.getUniqueValues((0,r.default)(e.widgets).filter(function(t){return t.conditionType&&!e.metadata.personalizationConditionTypes[t.conditionType]}).map(function(e){return e.conditionType}));return 0!==t.length?((0,p.logWarning)("conditiontype.missingmetadata",t),(0,g.postMessage)(y.MessageTypes.CONFIGURATION_CHANGED,null,"*"),O(e,t)):e},t.removeExcessZones=function(e){var t=new i.default,n=(0,s.default)((0,r.default)(e.sections),function(n){for(var i=[],r=e.metadata.sections[n.type].zoneCount;r<n.zones.length;r++){var o=e.sections[n.identifier].zones[r];0!==e.zones[o].widgets.length&&t.add(n.type),i.push(o)}return i});0!==t.size&&((0,g.postMessage)(y.MessageTypes.CONFIGURATION_CHANGED,null,"*"),(0,p.logWarning)("section.missingNonemptyZone",m(t)));var o=(0,r.default)((0,l.default)(e.zones,n));return b(e,o)}},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areasSchema=void 0;var i=n(93),r=new i.schema.Entity("widgetVariants",{},{idAttribute:"identifier"}),o=new i.schema.Entity("widgets",{variants:[r]},{idAttribute:"identifier"}),a=new i.schema.Entity("zones",{widgets:[o]},{idAttribute:"identifier"}),u=new i.schema.Entity("sections",{zones:[a]},{idAttribute:"identifier"}),s={editableAreas:[new i.schema.Entity("editableAreas",{sections:[u]},{idAttribute:"identifier"})]};t.areasSchema=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.metadataSchema=void 0;var i=n(93),r=new i.schema.Entity("widgets",{},{idAttribute:"typeIdentifier"}),o=new i.schema.Entity("sections",{},{idAttribute:"typeIdentifier"}),a={personalizationConditionTypes:[new i.schema.Entity("personalizationConditionTypes",{},{idAttribute:"typeIdentifier"})],sections:[o],widgets:[r]};t.metadataSchema=a}]]);